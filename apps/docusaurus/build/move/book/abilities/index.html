<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-move/book/abilities" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Abilities(機能) | Aptos Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aptos.dev/img/meta/og-aptos-docs-default.png"><meta data-rh="true" name="twitter:image" content="https://aptos.dev/img/meta/og-aptos-docs-default.png"><meta data-rh="true" property="og:url" content="https://aptos.dev/move/book/abilities"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Abilities(機能) | Aptos Docs"><meta data-rh="true" name="description" content="Abilitiesは、Moveの型指定機能であり、特定の型の値に対して許可されるアクションを制御します。このシステムにより値の&quot;linear&quot;typing動作、及びグローバルストレージでの値の使用の有無と使用方法をきめ細かく制御出来ます。これは、特定のバイトコード指示へのアクセスをゲートすることで実装されます。そのため値がバイトコード指示で使用されるため必要とするAbilityが必要(必要な場合、全ての指示がAbilityによってゲートされるわけではありません)。"><meta data-rh="true" property="og:description" content="Abilitiesは、Moveの型指定機能であり、特定の型の値に対して許可されるアクションを制御します。このシステムにより値の&quot;linear&quot;typing動作、及びグローバルストレージでの値の使用の有無と使用方法をきめ細かく制御出来ます。これは、特定のバイトコード指示へのアクセスをゲートすることで実装されます。そのため値がバイトコード指示で使用されるため必要とするAbilityが必要(必要な場合、全ての指示がAbilityによってゲートされるわけではありません)。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aptos.dev/move/book/abilities"><link data-rh="true" rel="alternate" href="https://aptos.dev/move/book/abilities" hreflang="en"><link data-rh="true" rel="alternate" href="https://aptos.dev/ja/move/book/abilities" hreflang="ja"><link data-rh="true" rel="alternate" href="https://aptos.dev/move/book/abilities" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HM7UY0NMLG-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HVB7QFB9PQ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-HVB7QFB9PQ",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Aptos Docs" href="/opensearch.xml">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/@stoplight/elements@7.7.5/styles.min.css" integrity="sha384-1lLf7J28IOR7k5RlItk6Y+G3hDgVB3y4RCgWNq6ZSwjYfvJXPtZAdW0uklsAZbGW" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.89bf2db0.css">
<script src="/assets/js/runtime~main.65eb5df6.js" defer="defer"></script>
<script src="/assets/js/main.0a39c1ce.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_rfFn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/aptos_word.svg" alt="Aptos Labs Logo" class="themedComponent_iS9h themedComponent--light_Wu9q"><img src="/img/aptos_word_dark.svg" alt="Aptos Labs Logo" class="themedComponent_iS9h themedComponent--dark_ZuQW"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_EebW"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/move/book/abilities" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/move/book/abilities" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">日本語</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/aptos-white-paper">Start</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/concepts">Learn about Aptos</a></li><li><a class="dropdown__link" href="/guides/explore-aptos">Explore Aptos</a></li><li><a class="dropdown__link" href="/releases/aptos-releases">Latest Releases</a></li><li><a class="dropdown__link" href="/nodes/networks">Networks</a></li><li><a class="dropdown__link" href="/aptos-white-paper">Read the Aptos White Paper</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/tutorials">Build</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tutorials">Tutorials</a></li><li><a class="dropdown__link" href="/move/move-on-aptos">Learn the Move Language</a></li><li><a class="dropdown__link" href="/standards">Aptos Standards</a></li><li><a class="dropdown__link" href="/apis">Aptos APIs</a></li><li><a class="dropdown__link" href="/sdks/index">Aptos SDKs</a></li><li><a class="dropdown__link" href="/tools/aptos-cli">Aptos CLI</a></li><li><a class="dropdown__link" href="/integration">Integrate with Aptos</a></li><li><a class="dropdown__link" href="/tutorials/build-e2e-dapp/e2e-dapp-index">Build E2E Dapp on Aptos</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/nodes/nodes-landing">Nodes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/nodes/nodes-landing">Learn about Nodes</a></li><li><a class="dropdown__link" href="/nodes/validator-node/validators">Run a Validator and VFN</a></li><li><a class="dropdown__link" href="/nodes/full-node/public-fullnode">Run a Public Fullnode</a></li><li><a class="dropdown__link" href="/nodes/operations/operations-index">Bootstrap a Node</a></li><li><a class="dropdown__link" href="/nodes/configure/configure-index">Configure a Node</a></li><li><a class="dropdown__link" href="/nodes/measure/measure-index">Monitor a Node</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/nodes/aptos-api-spec">Reference</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/nodes/aptos-api-spec">Aptos REST API Spec</a></li><li><a class="dropdown__link" href="/reference/error-codes">Aptos Errors Codes</a></li><li><a class="dropdown__link" href="/reference/move">Aptos Move Framework</a></li><li><a class="dropdown__link" href="/reference/glossary">Aptos Glossary</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/community">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community">Help the Aptos Ecosystem</a></li><li><a class="dropdown__link" href="/community/external-resources">External Resources</a></li><li><a class="dropdown__link" href="/community/site-updates">Update Aptos.dev</a></li><li><a class="dropdown__link" href="/community/aptos-style">Follow Aptos Style</a></li><li><a class="dropdown__link" href="/community/contributors">Contributors</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://learn.aptoslabs.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Learn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_c6F6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/aptos-labs/aptos-developer-discussions/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dev Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_c6F6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_wwMH colorModeToggle_GDDh"><button class="clean-btn toggleButton_faKJ toggleButtonDisabled_aZcY" type="button" disabled="" title="ダークモードを切り替える(現在はダークモード)" aria-label="ダークモードを切り替える(現在はダークモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_m8__"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_ZVRe"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_g2EE"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_gkQL"><div class="docsWrapper_Qxyk"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sWPH" type="button"></button><div class="docRoot_uKhe"><aside class="theme-doc-sidebar-container docSidebarContainer_Sj9c"><div class="sidebarViewport_Me7G"><div class="sidebar_JlDQ"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_YW1f"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title">Build</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tutorials/">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/move/move-on-aptos">Learn the Move Language</a><button aria-label="Collapse sidebar category &#x27;Learn the Move Language&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/move/book/SUMMARY">The Move Book</a><button aria-label="Collapse sidebar category &#x27;The Move Book&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/move/book/introduction">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/move/book/creating-coins">Primitive Types</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/move/book/variables">Basic Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/variables">ローカル変数とスコープ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/equality">等価</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/abort-and-assert">Abort(中止)とAssert</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/conditionals">条件文</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/loops">While, For, ループ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/functions">関数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/structs-and-resources">構造とリソース</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/constants">定数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/generics">ジェネリクス</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/move/book/abilities">Abilities(機能)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/uses">用途と別名(エイリアス)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/friends">フレンズ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/packages">パッケージ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/package-upgrades">パッケージのアップグレード</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/move/book/unit-testing">ユニットテスト</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/move/book/global-storage-structure">Global Storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/move/book/standard-library">Reference</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/move/aptos-move">Advanced Move Guides</a><button aria-label="Expand sidebar category &#x27;Advanced Move Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/move/prover/move-prover">The Move Prover Book</a><button aria-label="Expand sidebar category &#x27;The Move Prover Book&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/standards/">Aptos Standards</a><button aria-label="Expand sidebar category &#x27;Aptos Standards&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/apis/">Aptos APIs</a><button aria-label="Expand sidebar category &#x27;Aptos APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sdks/index">Aptos SDKs</a><button aria-label="Expand sidebar category &#x27;Aptos SDKs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tools/aptos-cli/">Aptos CLI</a><button aria-label="Expand sidebar category &#x27;Aptos CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/integration/">Integrate with Aptos</a><button aria-label="Expand sidebar category &#x27;Integrate with Aptos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tutorials/build-e2e-dapp/e2e-dapp-index">Build E2E Dapp with Aptos</a><button aria-label="Expand sidebar category &#x27;Build E2E Dapp with Aptos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/advanced-builders">Advanced Builder Guides</a><button aria-label="Expand sidebar category &#x27;Advanced Builder Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="サイドバーを隠す" aria-label="サイドバーを隠す" class="button button--secondary button--outline collapseSidebarButton_snYO"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Jf0I"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_fHdE"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_OUYU"><div class="docItemContainer_rlCk"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_A7pt" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_cEG4"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/move/move-on-aptos"><span itemprop="name">Learn the Move Language</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/move/book/SUMMARY"><span itemprop="name">The Move Book</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Basic Concepts</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Abilities(機能)</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_MUT3 theme-doc-toc-mobile tocMobile_q7HR"><button type="button" class="clean-btn tocCollapsibleButton_gS9W">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>Abilities(機能)</h1>
<p>Abilitiesは、Moveの型指定機能であり、特定の型の値に対して許可されるアクションを制御します。このシステムにより値の&quot;linear&quot;typing動作、及びグローバルストレージでの値の使用の有無と使用方法をきめ細かく制御出来ます。これは、特定のバイトコード指示へのアクセスをゲートすることで実装されます。そのため値がバイトコード指示で使用されるため必要とするAbilityが必要(必要な場合、全ての指示がAbilityによってゲートされるわけではありません)。</p>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="4つのability">4つのAbility<a href="#4つのability" class="hash-link" aria-label="4つのAbility への直接リンク" title="4つのAbility への直接リンク">​</a></h2>
<p>4つのAbilityは:</p>
<ul>
<li><a href="#copy"><code>copy</code></a>
<ul>
<li>このAbilityを持つ型の値をコピー出来る様にします。</li>
</ul>
</li>
<li><a href="#drop"><code>drop</code></a>
<ul>
<li>このAbilityを持つ型の値をポップ/ドロップ出来る様にします。</li>
</ul>
</li>
<li><a href="#store"><code>store</code></a>
<ul>
<li>このAbilityを持つ型の値がグローバルストレージ内の構造体内に存在出来る様にします。</li>
</ul>
</li>
<li><a href="#key"><code>key</code></a>
<ul>
<li>型をグローバルストレージ操作のキーとして提供出来る様にします。</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="コピー"><code>コピー</code><a href="#コピー" class="hash-link" aria-label="コピー への直接リンク" title="コピー への直接リンク">​</a></h3>
<p>この<code>copy</code>機能により、その機能を持つ型の値をコピー出来ます。これは、<a href="/move/book/variables#move-and-copy"><code>copy</code></a>演算子を使用してローカル変 数外の値をコピーする機能をゲートし、<a href="/move/book/references.md#reading-and-writing-through-references">逆参照<code>*e</code></a>を使用して参照経由で値をコピーします。</p>
<p>値が<code>copy</code>を持つ場合、その値内に含まれる全ての値は<code>copy</code>となります。</p>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="ドロップ"><code>ドロップ</code><a href="#ドロップ" class="hash-link" aria-label="ドロップ への直接リンク" title="ドロップ への直接リンク">​</a></h3>
<p>この<code>drop</code>機能により、その機能を持つ型の値をドロップできます。ドロップとは、値が転送されずMoveプログラムの実行時に実質的に破棄される事を意味します。そのためこの機能は、以下を含む多くの場所で値を無視する機能を制限します。</p>
<ul>
<li>ローカル変数またはパラメータの値を使用しない</li>
<li><a href="/move/book/variables#expression-blocks"><code>;</code>を介したシーケンス</a>内の値を使用しない。</li>
<li><a href="/move/book/variables#assignments">代入</a>時の変数の値を上書きする。</li>
<li><a href="/move/book/references#reading-and-writing-through-references"><code>*e1 = e2</code>の書き込み</a>時、参照を介して値を上書きします。</li>
</ul>
<p>値が<code>drop</code>した場合、その値内に含まれる全ての値は<code>drop</code>します。</p>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="ストア"><code>ストア</code><a href="#ストア" class="hash-link" aria-label="ストア への直接リンク" title="ストア への直接リンク">​</a></h3>
<p><code>store</code>機能により、この機能を持つ型の値がグローバルストレージ内の構造体(リソース)内へ存在出来る様になりますが、グローバルストレージ内の最上位のリソースとして存在出来るとは限りません。これ は操作を直接ゲートしない唯一の機能です。そのかわり<code>key</code>と併用で使用された場合、グローバルストレージの存在をゲートします。</p>
<p>値が<code>store</code>である場合, その値が含む全ての値は<code>store</code>です。</p>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="キー"><code>キー</code><a href="#キー" class="hash-link" aria-label="キー への直接リンク" title="キー への直接リンク">​</a></h3>
<p><code>key</code>機能により、型を<a href="/move/book/global-storage-operators">グローバルストレージ操作</a>のキーとして提供します。これは全てのグローバルストレージ操作をゲートし、型を<code>move_to</code>、<code>borrow_global</code>、<code>move_from</code>等で使用するには、型は<code>key</code>機能が必要です。</p>
<p>注意: 操作は<code>key</code>型が定義されているモジュールで使用する必要が有ります。(ある意味で、操作は定義モジュールに対してプライベートです)。</p>
<p>値が<code>key</code>である場合、その値が含む全ての値は<code>store</code>となります。これは、この種の非対称性を持つ唯一の機能です。</p>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="組み込み型">組み込み型<a href="#組み込み型" class="hash-link" aria-label="組み込み型 への直接リンク" title="組み込み型 への直接リンク">​</a></h2>
<p>殆どのプリミティブな組み込み型には<code>copy</code>、<code>drop</code>、<code>store</code>　が有りますが、<code>signer</code>には無くただ<code>drop</code>が有ります。</p>
<ul>
<li><code>bool</code>、<code>u8</code>、<code>u16</code>、<code>u32</code>、<code>u64</code>、<code>u128</code>、<code>u256</code>、<code>address</code>の全てが<code>copy</code>、<code>drop</code>、<code>store</code>を持ちます。</li>
<li><code>signer</code>は<code>drop</code>を持ちます。<!-- -->
<ul>
<li>コピー出来ず、グローバルストレージへ保存出来ません。　　</li>
</ul>
</li>
<li><code>T</code>の機能に応じて<code>vector&lt;T&gt;</code>は<code>copy</code>、<code>drop</code>、<code>store</code>を持つ場合が有ります。<!-- -->
<ul>
<li>詳細は<a href="#conditional-abilities-and-generic-types">Conditional Abilities and Generic Types</a>を御覧下さい。</li>
</ul>
</li>
<li>不変参照の<code>&amp;</code>と可変参照の<code>&amp;mut</code>はどちらも <code>copy</code>と<code>drop</code>を持ちます。<!-- -->
<ul>
<li>これは、参照先ではなく、参照内容自体をコピーして削除する事を指します。</li>
<li>参照内容はグローバルストレージへ出現出来ないため、<code>store</code>は有りません。</li>
</ul>
</li>
</ul>
<p>プリミティブ型には<code>key</code>が無いため<a href="/move/book/global-storage-operators">グローバルストレージ操作</a>で直接使用する事は出来ません。</p>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="構造体の注釈">構造体の注釈<a href="#構造体の注釈" class="hash-link" aria-label="構造体の注釈 への直接リンク" title="構造体の注釈 への直接リンク">​</a></h2>
<p><code>struct</code>が機能を持つ事を宣言するには、構造体名の後でありフィールドの前へ<code>has &lt;ability&gt;</code>を宣言します。例:</p>
<div class="language-move codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-move codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token type-definition class-name">Ignorable</span><span class="token plain"> has </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">drop</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token type-definition class-name">Pair</span><span class="token plain"> has </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">copy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">drop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">store</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>この場合: <code>Ignorable</code>は<code>drop</code>機能が有ります。 <code>Pair</code>は<code>copy</code>、<code>drop</code>、<code>store</code>機能が有ります。</p>
<p>これらの機能は全て、ゲートされた操作に対して強力な保証を持っています。値が他のコレクション内に深くネストされている場合でも、その機能がある場合のみ値の上で操作を実行できます。</p>
<p>つまり、構造体の能力を宣言する場合、フィールドに特定の要件が課されます。すべてのフィールドがこれらの制約を満たす必要があります。これらのルールは、構造体が上記の機能の到達可能性ルールを満たすため必要です。構造体がその機能付きで宣言されている場合は...</p>
<ul>
<li><code>copy</code>, 全てのフィールドは<code>copy</code>が必要です。</li>
<li><code>drop</code>, 全てのフィールドは<code>drop</code>が必要です。</li>
<li><code>store</code>, 全てのフィールドは<code>store</code>が必要です。</li>
<li><code>key</code>, 全てのフィールドは<code>store</code>が必要です。<!-- -->
<ul>
<li><code>key</code> それ自体が必要としない 現時点で唯一の機能です。</li>
</ul>
</li>
</ul>
<p>例えば：</p>
<div class="language-move codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-move codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 何の機能も持たない構造体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token type-definition class-name">NoAbilities</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token type-definition class-name">WantsCopy</span><span class="token plain"> has </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">copy</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">NoAbilities</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// エラー &#x27;NoAbilities&#x27;には&#x27;copy&#x27;が有りません。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>同様に:</p>
<div class="language-move codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-move codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 何の機能も持たない構造体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token type-definition class-name">NoAbilities</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token type-definition class-name">MyResource</span><span class="token plain"> has </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">key</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">NoAbilities</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// Error &#x27;NoAbilities&#x27;には&#x27;store&#x27;が有りません。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="条件付き機能とジェネリック型">条件付き機能とジェネリック型<a href="#条件付き機能とジェネリック型" class="hash-link" aria-label="条件付き機能とジェネリック型 への直接リンク" title="条件付き機能とジェネリック型 への直接リンク">​</a></h2>
<p>ジェネリック型に機能が注釈付けされている場合、その型の全てのインスタンスがその機能を持つ事が保証されるわけではありません。この構造体宣言を検討して下さい。</p>
<div class="codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-text codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct Cup&lt;T&gt; has copy, drop, store, key { item: T }</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>機能に関係なく<code>Cup</code>が任意の型を保持出来ると非常に便利です。型システムは型パラメータを <em>見る</em> 事が出来るため、その能力の保証に違反する型パラメータを見つけた場合は、<code>Cup</code>から機能を削除できるはずです。</p>
<p>この動作は最初は少し分かりにくいかもしれませんが、コレクション型について考えると理解し易いかもしれません。組み込み型の<code>vector</code>は以下の型宣言が有ると考える事が出来ます。</p>
<div class="codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-text codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">vector&lt;T&gt; has copy, drop, store;</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>vector</code>はどの型でも動作する様にしたいです。異なる機能ごとに<code>vector</code>型を分けたくありません。では、必要なルールは何でしょうか? 上記のフィールドルールで必要なルールと全く同じです。つまり、内部要素をコピー出来る場合のみ<code>vector</code>値をコピーしても安全です。内部要素を無視/削除できる場合のみ<code>vector</code>値を無視しても安全です。</p>
<p>また、内部要素をグローバルストレージへ配置出来る場合のみ<code>vector</code>をグローバルストレージへ配置しても安全です。</p>
<p>この追加の表現力を持たせるた  め、型はその型のインスタンス化に応じて宣言された全ての機能を持つとは限りません。そのかわり、型が持つ機能はその宣言 <em>と</em> 型引数次第です。どの型でも悲観的に、型パラメータは構造体内で使用されると想定されるため、型パラメータがフィールドに対して上記で説明した要件を満たしている場合のみ機能が付与されます。上記の例から<code>Cup</code>を取り上げます。</p>
<ul>
<li><code>Cup</code>は<code>T</code>が<code>copy</code>を持っている場合のみ<code>copy</code>機能を持ちます。</li>
<li><code>T</code>が<code>drop</code>を持つ場合のみ<code>drop</code>を持ちます。</li>
<li><code>T</code>が<code>store</code>を持つ場合のみ<code>store</code>を持ちます。</li>
<li><code>T</code>が<code>store</code>を持つ場合のみ<code>key</code>を持ちます。</li>
</ul>
<p>各機能の条件付きシステムの例がこちら。</p>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="例-条件付きcopy">例: 条件付き<code>copy</code><a href="#例-条件付きcopy" class="hash-link" aria-label="例-条件付きcopy への直接リンク" title="例-条件付きcopy への直接リンク">​</a></h3>
<div class="codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-text codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct NoAbilities {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct S has copy, drop { f: bool }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct Cup&lt;T&gt; has copy, drop, store { item: T }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun example(c_x: Cup&lt;u64&gt;, c_s: Cup&lt;S&gt;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 有効, &#x27;u64&#x27;が&#x27;copy&#x27;を持っているので&#x27;Cup&lt;u64&gt;&#x27;は&#x27;copy&#x27;を持っています。 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let c_x2 = copy c_x;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 有効, &#x27;S&#x27;が&#x27;copy&#x27;を持っているので&#x27;Cup&lt;S&gt;&#x27;は&#x27;copy&#x27;を持っています。 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let c_s2 = copy c_s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun invalid(c_account: Cup&lt;signer&gt;, c_n: Cup&lt;NoAbilities&gt;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 無効, &#x27;Cup&lt;signer&gt;&#x27;は&#x27;copy&#x27;を持っていません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // &#x27;Cup&#x27;がcopyで宣言されているにも関わらず、インスタンスには&#x27;copy&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // &#x27;signer&#x27;には&#x27;copy&#x27;が無いため</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let c_account2 = copy c_account;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 無効, &#x27;Cup&lt;NoAbilities&gt;&#x27;には&#x27;copy&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // &#x27;NoAbilities&#x27;には&#x27;copy&#x27;が無いため</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let c_n2 = copy c_n;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="例-条件付きdrop">例: 条件付き<code>drop</code><a href="#例-条件付きdrop" class="hash-link" aria-label="例-条件付きdrop への直接リンク" title="例-条件付きdrop への直接リンク">​</a></h3>
<div class="codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-text codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct NoAbilities {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct S has copy, drop { f: bool }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct Cup&lt;T&gt; has copy, drop, store { item: T }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun unused() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Cup&lt;bool&gt; { item: true }; // 有効, &#x27;Cup&lt;bool&gt;&#x27;には&#x27;drop&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Cup&lt;S&gt; { item: S { f: false }}; // 有効, &#x27;Cup&lt;S&gt;&#x27;には&#x27;drop&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun left_in_local(c_account: Cup&lt;signer&gt;): u64 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let c_b = Cup&lt;bool&gt; { item: true };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let c_s = Cup&lt;S&gt; { item: S { f: false }};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 有効なリターン: &#x27;c_account&#x27;、&#x27;c_b&#x27;、&#x27;c_s&#x27;には値が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // ただし&#x27;Cup&lt;signer&gt;&#x27;、&#x27;Cup&lt;bool&gt;&#x27;、&#x27;Cup&lt;S&gt;&#x27;には&#x27;drop&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun invalid_unused() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 無効, &#x27;drop&#x27;が無いため&#x27;Cup&lt;NoAbilities&gt;&#x27;は無視出来ません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // &#x27;Cup&#x27;が&#x27;drop&#x27;で宣言されているにも関わらずインスタンスには&#x27;drop&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // &#x27;NoAbilities&#x27;には&#x27;drop&#x27;が無いため。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Cup&lt;NoAbilities&gt; { item: NoAbilities {}};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun invalid_left_in_local(): u64 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let c_n = Cup&lt;NoAbilities&gt; { item: NoAbilities {}};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 無効なリターン: &#x27;c_n&#x27;には値が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // &#x27;Cup&lt;NoAbilities&gt;&#x27;には&#x27;drop&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="例-条件付き-store">例: 条件付き <code>store</code><a href="#例-条件付き-store" class="hash-link" aria-label="例-条件付き-store への直接リンク" title="例-条件付き-store への直接リンク">​</a></h3>
<div class="codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-text codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct Cup&lt;T&gt; has copy, drop, store { item: T }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// &#x27;MyInnerResource&#x27;は&#x27;store&#x27;で宣言されているため全てのフィールドは&#x27;store&#x27;が必要です。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct MyInnerResource has store {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    yes: Cup&lt;u64&gt;, // 有効, &#x27;Cup&lt;u64&gt;&#x27;には&#x27;store&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // no: Cup&lt;signer&gt;,無効, &#x27;Cup&lt;signer&gt;&#x27;には&#x27;store&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// &#x27;MyResource&#x27;は&#x27;key&#x27;で宣言されているため、全てのフィールドは&#x27;store&#x27;が必要です。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct MyResource has key {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    yes: Cup&lt;u64&gt;, // 有効, &#x27;Cup&lt;u64&gt;&#x27;には&#x27;store&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    inner: Cup&lt;MyInnerResource&gt;, // 有効, &#x27;Cup&lt;MyInnerResource&gt;&#x27;には&#x27;store&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // no: Cup&lt;signer&gt;, 無効, &#x27;Cup&lt;signer&gt;&#x27;には&#x27;store&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="例-条件付き-key">例: 条件付き <code>key</code><a href="#例-条件付き-key" class="hash-link" aria-label="例-条件付き-key への直接リンク" title="例-条件付き-key への直接リンク">​</a></h3>
<div class="codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-text codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct NoAbilities {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">struct MyResource&lt;T&gt; has key { f: T }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun valid(account: &amp;signer) acquires MyResource {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let addr = signer::address_of(account);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     // 有効, &#x27;MyResource&lt;u64&gt;&#x27;には&#x27;key&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let has_resource = exists&lt;MyResource&lt;u64&gt;&gt;(addr);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (!has_resource) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         // 有効, &#x27;MyResource&lt;u64&gt;&#x27;には&#x27;key&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        move_to(account, MyResource&lt;u64&gt; { f: 0 })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 有効, &#x27;MyResource&lt;u64&gt;&#x27;には&#x27;key&#x27;が有ります。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let r = borrow_global_mut&lt;MyResource&lt;u64&gt;&gt;(addr)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    r.f = r.f + 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun invalid(account: &amp;signer) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   // 無効, &#x27;MyResource&lt;NoAbilities&gt;&#x27;には&#x27;key&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   let has_it = exists&lt;MyResource&lt;NoAbilities&gt;&gt;(addr);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   // 無効, &#x27;MyResource&lt;NoAbilities&gt;&#x27;には&#x27;key&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   let NoAbilities {} = move_from&lt;NoAbilities&gt;(addr);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   // 無効, &#x27;MyResource&lt;NoAbilities&gt;&#x27;には&#x27;key&#x27;が有りません。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   move_to(account, NoAbilities {});</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   // 無効, &#x27;MyResource&lt;NoAbilities&gt;&#x27;には&#x27;key&#x27;が有りません 。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   borrow_global&lt;NoAbilities&gt;(addr);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/aptos-labs/developer-docs/edit/main/apps/docusaurus/docs/move/book/abilities.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_l3kn" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_nZMy"><span class="theme-last-updated"><b><time datetime="2024-06-18T11:15:39.000Z">2024年6月18日</time></b>に<!-- -->最終更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/move/book/generics"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">ジェネリクス</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/move/book/uses"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">用途と別名(エイリアス)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_HHZg thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#4つのability" class="table-of-contents__link toc-highlight">4つのAbility</a><ul><li><a href="#コピー" class="table-of-contents__link toc-highlight"><code>コピー</code></a></li><li><a href="#ドロップ" class="table-of-contents__link toc-highlight"><code>ドロップ</code></a></li><li><a href="#ストア" class="table-of-contents__link toc-highlight"><code>ストア</code></a></li><li><a href="#キー" class="table-of-contents__link toc-highlight"><code>キー</code></a></li></ul></li><li><a href="#組み込み型" class="table-of-contents__link toc-highlight">組み込み型</a></li><li><a href="#構造体の注釈" class="table-of-contents__link toc-highlight">構造体の注釈</a></li><li><a href="#条件付き機能とジェネリック型" class="table-of-contents__link toc-highlight">条件付き機能とジェネリック型</a><ul><li><a href="#例-条件付きcopy" class="table-of-contents__link toc-highlight">例: 条件付き<code>copy</code></a></li><li><a href="#例-条件付きdrop" class="table-of-contents__link toc-highlight">例: 条件付き<code>drop</code></a></li><li><a href="#例-条件付き-store" class="table-of-contents__link toc-highlight">例: 条件付き <code>store</code></a></li><li><a href="#例-条件付き-key" class="table-of-contents__link toc-highlight">例: 条件付き <code>key</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                <div class="footer-left">
                  <a class="footer-logo" href="https://aptosfoundation.org" target="_blank" rel="noopener noreferrer" title="Aptos Foundation">
                    <svg width="100%" height="100%" version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112 112" overflow="visible" xml:space="preserve"><path fill="currentColor" d="M86.6 37.4h-9.9c-1.1 0-2.2-.5-3-1.3l-4-4.5c-1.2-1.3-3.1-1.4-4.5-.3l-.3.3-3.4 3.9c-1.1 1.3-2.8 2-4.5 2H2.9C1.4 41.9.4 46.6 0 51.3h51.2c.9 0 1.8-.4 2.4-1l4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1.1l4 4.5c.8.9 1.9 1.4 3 1.4H112c-.4-4.7-1.4-9.4-2.9-13.8H86.6zM53.8 65l-4-4.5c-1.2-1.3-3.1-1.4-4.5-.3l-.3.3-3.5 3.9c-1.1 1.3-2.7 2-4.4 2H.8c.9 4.8 2.5 9.5 4.6 14h25.5c.9 0 1.7-.4 2.4-1l4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1.1l4 4.5c.8.9 1.9 1.4 3 1.4h56.6c2.1-4.4 3.7-9.1 4.6-14H56.8c-1.2 0-2.3-.5-3-1.4zm19.6-43.6 4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1l4 4.5c.8.9 1.9 1.3 3 1.3h10.8c-18.8-24.8-54.1-29.7-79-11-4.1 3.1-7.8 6.8-11 11H71c1 .2 1.8-.2 2.4-.8zM34.7 94.2c-1.2 0-2.3-.5-3-1.3l-4-4.5c-1.2-1.3-3.2-1.4-4.5-.2l-.2.2-3.5 3.9c-1.1 1.3-2.7 2-4.4 2h-.2C36 116.9 71.7 118 94.4 96.7c.9-.8 1.7-1.7 2.6-2.6H34.7z"/></svg>
                  </a>
                  <div class="copyright">
                    <p class="copyright-text">© 2024 Aptos Foundation</p>
                    <div class="copyright-links">
                      <a href="https://aptosfoundation.org/privacy" target="_blank">Privacy</a>
                      <a href="https://aptosfoundation.org/terms" target="_blank">Terms</a></div>
                  </div>
                </div>
                </li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                  <p class="right">
                    <nav class="social-links">
                        <a class="social-link" href="https://github.com/aptos-labs/developer-docs" target="_blank" rel="noopener noreferrer" title="Github">
                         <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 0C4.47514 0 0 4.47514 0 10C0 14.4199 2.86679 18.1645 6.83855 19.4905C7.33579 19.5826 7.51995 19.2756 7.51995 19.0055C7.51995 18.7661 7.51381 18.14 7.50767 17.3051C4.72683 17.9067 4.13751 15.9668 4.13751 15.9668C3.68324 14.8128 3.0264 14.5058 3.0264 14.5058C2.11786 13.8858 3.09392 13.8981 3.09392 13.8981C4.09454 13.9718 4.62861 14.9294 4.62861 14.9294C5.51872 16.4579 6.96746 16.016 7.53837 15.7581C7.63045 15.1136 7.88827 14.6716 8.17066 14.4199C5.94843 14.1682 3.61571 13.3088 3.61571 9.47821C3.61571 8.38551 4.00246 7.4954 4.64702 6.79558C4.54266 6.54389 4.19889 5.52486 4.74524 4.14978C4.74524 4.14978 5.58625 3.87968 7.4954 5.17495C8.29343 4.95396 9.14672 4.84346 10 4.83732C10.8471 4.83732 11.7066 4.95396 12.5046 5.17495C14.4137 3.87968 15.2548 4.14978 15.2548 4.14978C15.8011 5.52486 15.4573 6.54389 15.353 6.79558C15.9914 7.4954 16.3781 8.38551 16.3781 9.47821C16.3781 13.3211 14.0393 14.1621 11.8109 14.4137C12.167 14.7207 12.4923 15.3346 12.4923 16.2676C12.4923 17.6059 12.48 18.6802 12.48 19.0117C12.48 19.2818 12.6581 19.5887 13.1676 19.4905C17.1393 18.1645 20 14.4199 20 10.0061C20 4.47514 15.5249 0 10 0Z" fill="currentColor"/></svg>
                        </a>
                        <a class="social-link" href="https://discord.gg/aptosnetwork" target="_blank" rel="noopener noreferrer" title="Discord">
                          <svg width="100%" height="100%" viewBox="0 0 71 55" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M60.105 4.898A58.55 58.55 0 0 0 45.653.415a.22.22 0 0 0-.233.11 40.784 40.784 0 0 0-1.8 3.697c-5.456-.817-10.886-.817-16.23 0-.485-1.164-1.201-2.587-1.828-3.697a.228.228 0 0 0-.233-.11 58.386 58.386 0 0 0-14.451 4.483.207.207 0 0 0-.095.082C1.578 18.73-.944 32.144.293 45.39a.244.244 0 0 0 .093.167c6.073 4.46 11.955 7.167 17.729 8.962a.23.23 0 0 0 .249-.082 42.08 42.08 0 0 0 3.627-5.9.225.225 0 0 0-.123-.312 38.772 38.772 0 0 1-5.539-2.64.228.228 0 0 1-.022-.378 31.17 31.17 0 0 0 1.1-.862.22.22 0 0 1 .23-.03c11.619 5.304 24.198 5.304 35.68 0a.219.219 0 0 1 .233.027c.356.293.728.586 1.103.865a.228.228 0 0 1-.02.378 36.384 36.384 0 0 1-5.54 2.637.227.227 0 0 0-.121.315 47.249 47.249 0 0 0 3.624 5.897.225.225 0 0 0 .249.084c5.801-1.794 11.684-4.502 17.757-8.961a.228.228 0 0 0 .092-.164c1.48-15.315-2.48-28.618-10.497-40.412a.18.18 0 0 0-.093-.084Zm-36.38 32.427c-3.497 0-6.38-3.211-6.38-7.156 0-3.944 2.827-7.156 6.38-7.156 3.583 0 6.438 3.24 6.382 7.156 0 3.945-2.827 7.156-6.381 7.156Zm23.593 0c-3.498 0-6.38-3.211-6.38-7.156 0-3.944 2.826-7.156 6.38-7.156 3.582 0 6.437 3.24 6.38 7.156 0 3.945-2.798 7.156-6.38 7.156Z" fill="currentColor"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h71v55H0z"/></clipPath></defs></svg>
                        </a>
                        <a class="social-link" href="https://twitter.com/Aptos" target="_blank" rel="noopener noreferrer" title="Twitter">
                          <svg width="100%" height="100%" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 2.013a9.395 9.395 0 0 1-2.593.676A4.348 4.348 0 0 0 21.392.314a9.341 9.341 0 0 1-2.866 1.042A4.62 4.62 0 0 0 15.232 0c-2.493 0-4.514 1.922-4.514 4.292 0 .336.04.664.117.978C7.083 5.09 3.758 3.382 1.532.786A4.115 4.115 0 0 0 .92 2.944c0 1.489.796 2.802 2.007 3.571A4.669 4.669 0 0 1 .884 5.98v.053c0 2.08 1.555 3.815 3.62 4.209a4.744 4.744 0 0 1-2.038.074c.574 1.705 2.241 2.945 4.216 2.98a9.358 9.358 0 0 1-5.605 1.837c-.365 0-.724-.02-1.077-.06A13.257 13.257 0 0 0 6.918 17c8.303 0 12.843-6.54 12.843-12.21 0-.187-.004-.372-.013-.556A8.929 8.929 0 0 0 22 2.013Z" fill="currentColor"/></svg>
                        </a>
                    </nav>
                  </p>
              </li></ul></div></div></div></footer></div>
</body>
</html>