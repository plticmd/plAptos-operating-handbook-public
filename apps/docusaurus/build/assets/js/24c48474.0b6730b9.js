"use strict";(self.webpackChunkaptos_docs=self.webpackChunkaptos_docs||[]).push([[817],{17986:(n,s,t)=>{t.r(s),t.d(s,{assets:()=>p,contentTitle:()=>r,default:()=>l,frontMatter:()=>i,metadata:()=>c,toc:()=>a});var e=t(63159),o=t(83581);t(3688);const i={title:"Running Move Scripts"},r="\u3069\u3046\u3057\u305f\u3089Move Scripts\u3092\u5b9f\u884c\u51fa\u6765\u308b\u306e\u304b?",c={id:"move/move-on-aptos/scripts/running-scripts",title:"Running Move Scripts",description:"Move\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001Aptos Typescript SDK\u3001Aptos\u30a6\u30a9\u30ec\u30c3\u30c8\u30a2\u30c0\u30d7\u30bf\u30fc\u3001Aptos CLI \u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/move/move-on-aptos/scripts/running-scripts.md",sourceDirName:"move/move-on-aptos/scripts",slug:"/move/move-on-aptos/scripts/running-scripts",permalink:"/move/move-on-aptos/scripts/running-scripts",draft:!1,unlisted:!1,editUrl:"https://github.com/aptos-labs/developer-docs/edit/main/apps/docusaurus/docs/move/move-on-aptos/scripts/running-scripts.md",tags:[],version:"current",lastUpdatedAt:1721049661,formattedLastUpdatedAt:"2024\u5e747\u670815\u65e5",frontMatter:{title:"Running Move Scripts"},sidebar:"appSidebar",previous:{title:"Compiling Move Scripts",permalink:"/move/move-on-aptos/scripts/compiling-scripts"},next:{title:"Move Scripts Tutorial",permalink:"/move/move-on-aptos/scripts/script-tutorial"}},p={},a=[{value:"Typescript SDK\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b",id:"typescript-sdk\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b",level:2},{value:"Aptos\u30a6\u30a9\u30ec\u30c3\u30c8\u30a2\u30c0\u30d7\u30bf\u30fc\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b",id:"aptos\u30a6\u30a9\u30ec\u30c3\u30c8\u30a2\u30c0\u30d7\u30bf\u30fc\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b",level:2},{value:"CLI \u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308bR",id:"cli-\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308br",level:2}];function d(n){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s.h1,{id:"\u3069\u3046\u3057\u305f\u3089move-scripts\u3092\u5b9f\u884c\u51fa\u6765\u308b\u306e\u304b",children:"\u3069\u3046\u3057\u305f\u3089Move Scripts\u3092\u5b9f\u884c\u51fa\u6765\u308b\u306e\u304b?"}),"\n",(0,e.jsx)(s.p,{children:"Move\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001Aptos Typescript SDK\u3001Aptos\u30a6\u30a9\u30ec\u30c3\u30c8\u30a2\u30c0\u30d7\u30bf\u30fc\u3001Aptos CLI \u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002"}),"\n",(0,e.jsx)(s.h2,{id:"typescript-sdk\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b",children:"Typescript SDK\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b"}),"\n",(0,e.jsxs)(s.p,{children:["TypeScript SDK\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u30a8\u30f3\u30c8\u30ea\u95a2\u6570\u540d\u3067\u306f\u306a\u304f",(0,e.jsx)(s.code,{children:"bytecode"}),"\u3092\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3078\u76f4\u63a5\u8ffd\u52a0\u3057\u307e\u3059\u3002"]}),"\n",(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{className:"language-ts",children:'import { readFileSync } from "fs";\nimport { Aptos, Account, AccountAddress } from "@aptos-labs/ts-sdk";\n\n// \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8a2d\u5b9a\u3057\u3001\u7f72\u540d\u3059\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3002\nconst aptos = new Aptos();\nconst account = Account.generate();\n\n// \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092\u30ed\u30fc\u30c9\u3059\u308b\u3002\nconst buffer = readFileSync("./transfer_half.mv", "buffer");\nconst bytecode = new Uint8Array.from(buffer);\n\n// \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3067\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\nconst transaction = await aptos.transaction.build.simple({\n  sender: account.accountAddress,\n  data: {\n    bytecode,\n    typeArguments: ["0x1::aptos_coin::AptosCoin"],\n    functionArguments: ["0x1"],\n  },\n});\n\n// \u9001\u4fe1\u3057\u3066\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u5f85\u3064\nconst pendingTxn = await aptos.signAndSubmitTransaction({\n  signer: account,\n  transaction,\n});\nawait aptos.waitForTransaction({ transactionHash: pendingTxn.hash });\n'})}),"\n",(0,e.jsx)(s.h2,{id:"aptos\u30a6\u30a9\u30ec\u30c3\u30c8\u30a2\u30c0\u30d7\u30bf\u30fc\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b",children:"Aptos\u30a6\u30a9\u30ec\u30c3\u30c8\u30a2\u30c0\u30d7\u30bf\u30fc\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b"}),"\n",(0,e.jsx)(s.admonition,{type:"warning",children:(0,e.jsx)(s.p,{children:"\u5168\u3066\u306e\u30a6\u30a9\u30ec\u30c3\u30c8\u304c\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30a6\u30a9\u30ec\u30c3\u30c8\u304c\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u63d0\u4f9b\u304c\u51fa\u6765\u307e\u3059\u3002"})}),"\n",(0,e.jsxs)(s.p,{children:["TypeScript SDK\u3068\u540c\u69d8\u3001\u540c\u3058\u5165\u529b\u306f\u30a6\u30a9\u30ec\u30c3\u30c8\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30bf\u30a4\u30d7\u3068\u3057\u3066\u53d7\u3051\u5165\u308c\u3089\u308c\u307e\u3059\u3002\u305f\u3060\u5358\u7d14\u306b\u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u309216\u9032\u6570",(0,e.jsx)(s.code,{children:"string"}),"\u3082\u3057\u304f\u306f",(0,e.jsx)(s.code,{children:"uint8array"}),"\u3068\u3057\u3066\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002"]}),"\n",(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{className:"language-ts",children:'import { useWallet } from "@aptos-labs/wallet-adapter-react";\n\n//...\n\n// \u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092uint8\u914d\u5217\u3082\u3057\u304f\u306f16\u9032\u6570\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u6587\u5b57\u5217\u3068\u3057\u3066\u30ed\u30fc\u30c9\u3059\u308b\nconst BYTECODE_IN_HEX = "0xa11ceb0b...78979";\n\nexport default function App() {\n  const { signAndSubmitTransaction } = useWallet();\n\n  function submitScript() {\n    signAndSubmitTransaction({\n      data: {\n        bytecode: BYTECODE_IN_HEX,\n        typeArguments: ["0x1::aptos_coin::AptosCoin"],\n        functionArguments: ["0x1"],\n      },\n    });\n  }\n\n  // ...\n}\n'})}),"\n",(0,e.jsx)(s.h2,{id:"cli-\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308br",children:"CLI \u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308bR"}),"\n",(0,e.jsx)(s.p,{children:"\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057CLI\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u51fa\u6765\u307e\u3059\u3002"}),"\n",(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{className:"language-shell",children:"aptos move run-script\n"})}),"\n",(0,e.jsx)(s.p,{children:"\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001\u4e8b\u524d\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u624b\u9806\u540c\u69d8\u305d\u306e\u5834\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u6cd5\u306e2\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,e.jsxs)(s.p,{children:["\u3059\u3067\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u3042\u308b\u5834\u5408\u306f\u3001",(0,e.jsx)(s.code,{children:"--compiled-script-path"}),"\u3067\u5b9f\u884c\u51fa\u6765\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u4f8b\u53c2\u7167\u3002"]}),"\n",(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{className:"language-shell",children:"aptos move run-script --compiled-script-path /opt/git/developer-docs/apps/docusaurus/static/move-examples/scripts/transfer_half/script.mv\n"})}),"\n",(0,e.jsxs)(s.p,{children:["\u540c\u69d8\u306b\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u305f\u3060\n",(0,e.jsx)(s.code,{children:"--script-path"}),"\u3092\u4f7f\u3044\u307e\u3059\u3002"]}),"\n",(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{className:"language-shell",children:"aptos move run-script --script-path ./sources/transfer_half.move\n"})})]})}function l(n={}){const{wrapper:s}={...(0,o.R)(),...n.components};return s?(0,e.jsx)(s,{...n,children:(0,e.jsx)(d,{...n})}):d(n)}}}]);