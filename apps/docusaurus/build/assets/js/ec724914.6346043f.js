"use strict";(self.webpackChunkaptos_docs=self.webpackChunkaptos_docs||[]).push([[5558],{30652:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>h,toc:()=>l});var o=n(63159),r=n(83581);const s={title:"Node Health Checker FAQ"},a=void 0,h={id:"nodes/measure/node-health-checker-faq",title:"Node Health Checker FAQ",description:"The Aptos Node Health Checker (NHC) service can be used to check the health of your node(s). See Node Health Checker for full documentation on the NHC.",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/nodes/measure/node-health-checker-faq.md",sourceDirName:"nodes/measure",slug:"/nodes/measure/node-health-checker-faq",permalink:"/nodes/measure/node-health-checker-faq",draft:!1,unlisted:!1,editUrl:"https://github.com/aptos-labs/developer-docs/edit/main/apps/docusaurus/docs/nodes/measure/node-health-checker-faq.md",tags:[],version:"current",lastUpdatedAt:1713276994,formattedLastUpdatedAt:"2024\u5e744\u670816\u65e5",frontMatter:{title:"Node Health Checker FAQ"}},i={},l=[{value:"How does the latency evaluator work?",id:"how-does-the-latency-evaluator-work",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["The Aptos Node Health Checker (NHC) service can be used to check the health of your node(s). See ",(0,o.jsx)(t.a,{href:"/nodes/measure/node-health-checker",children:"Node Health Checker"})," for full documentation on the NHC."]}),"\n",(0,o.jsxs)(t.p,{children:["The purpose of this FAQ is to help you understand why your node did not pass a particular health check when you ran NHC for it. If you didn't find the information you wanted in this FAQ, ",(0,o.jsx)(t.a,{href:"https://github.com/aptos-labs/aptos-core/issues/new/choose",children:"open an issue"}),", or ",(0,o.jsx)(t.a,{href:"https://github.com/aptos-labs/aptos-core/pulls",children:"open a PR"})," and add the information yourself."]}),"\n",(0,o.jsx)(t.h2,{id:"how-does-the-latency-evaluator-work",children:"How does the latency evaluator work?"}),"\n",(0,o.jsx)(t.p,{children:"You are likely here because you were given an NHC evaluation result like this:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"Average latency too high: The average latency was 1216ms, which is higher than the maximum allowed latency of 1000ms.\n"})}),"\n",(0,o.jsxs)(t.p,{children:["While the NHC reports 1216ms above, when you ",(0,o.jsx)(t.code,{children:"ping"})," you might see a latency like 600ms. This difference is because when you ",(0,o.jsx)(t.code,{children:"ping"})," an IP, the result you see is a single round trip (where the latency is the round trip time (RTT)). On the other hand, the NHC latency test will a request to the API running on your node. In effect, this means that the NHC will time 2 round trips, because it does the following:"]}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"SYN"}),"\n",(0,o.jsx)(t.li,{children:"SYNACK"}),"\n",(0,o.jsx)(t.li,{children:"ACK + Send HTTP request"}),"\n",(0,o.jsx)(t.li,{children:"Receive HTTP response"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"i.e., the NHC must do a TCP handshake (one round trip) and then make an HTTP request (second round trip)."}),"\n",(0,o.jsxs)(t.p,{children:["The reason the NHC uses the latency evaluator is to ensure that we can maintain good network performance. In particular, if the latency to your node is too high, it will result in a low TPS and high time to finality, both of which are very important to running a highly performant L1 blockchain. ",(0,o.jsx)(t.strong,{children:"If you receive this error, you will need to try and improve the latency to your node. We have set high thresholds on this value with the understanding that nodes will be running all over the world"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},83581:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>h});var o=n(11855);const r={},s=o.createContext(r);function a(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function h(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);