"use strict";(self.webpackChunkaptos_docs=self.webpackChunkaptos_docs||[]).push([[6115],{22153:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});var o=t(63159),s=t(83581);const i={title:"Node Networks and Sync"},a="Node Networks and Synchronization",r={id:"concepts/node-networks-sync",title:"Node Networks and Sync",description:"Validator nodes and fullnodes form a hierarchical structure with validator nodes at the root and fullnodes everywhere else. The Aptos blockchain distinguishes two types of fullnodes: validator fullnodes and public fullnodes. Validator fullnodes connect directly to validator nodes and offer scalability alongside DDoS mitigation. Public fullnodes connect to validator fullnodes (or other public fullnodes) to gain low-latency access to the Aptos network.",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/concepts/node-networks-sync.md",sourceDirName:"concepts",slug:"/concepts/node-networks-sync",permalink:"/concepts/node-networks-sync",draft:!1,unlisted:!1,editUrl:"https://github.com/aptos-labs/developer-docs/edit/main/apps/docusaurus/docs/concepts/node-networks-sync.md",tags:[],version:"current",lastUpdatedAt:1713368916,formattedLastUpdatedAt:"2024\u5e744\u670817\u65e5",frontMatter:{title:"Node Networks and Sync"},sidebar:"aptosSidebar",previous:{title:"Fullnodes Overview",permalink:"/concepts/fullnodes"},next:{title:"Move - A Web3 Language and Runtime",permalink:"/concepts/move-on-aptos"}},l={},d=[{value:"Node types",id:"node-types",level:2},{value:"Separate network stacks",id:"separate-network-stacks",level:2},{value:"State synchronizer",id:"state-synchronizer",level:2}];function c(e){const n={a:"a",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"node-networks-and-synchronization",children:"Node Networks and Synchronization"}),"\n",(0,o.jsx)(n.p,{children:"Validator nodes and fullnodes form a hierarchical structure with validator nodes at the root and fullnodes everywhere else. The Aptos blockchain distinguishes two types of fullnodes: validator fullnodes and public fullnodes. Validator fullnodes connect directly to validator nodes and offer scalability alongside DDoS mitigation. Public fullnodes connect to validator fullnodes (or other public fullnodes) to gain low-latency access to the Aptos network."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"v-fn-network.svg",src:t(90069).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(n.h2,{id:"node-types",children:"Node types"}),"\n",(0,o.jsx)(n.p,{children:"Aptos operates with these node types:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/nodes/validator-node/validators",children:"Validator nodes (VNs)"})," - participates in consensus and drives ",(0,o.jsx)(n.a,{href:"/concepts/txns-states",children:"transaction processing"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Validator fullnodes (VFNs) - captures and keeps up-to-date on the state of the blockchain; run by the validator operator, so it can connect directly to the validator node and therefore serve requests from public fullnodes. Otherwise, it works like a public fullnode."}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/nodes/full-node/public-fullnode",children:"Public fullnodes (PFNs)"})," - run by someone who is not a validator operator, PFNs cannot connect directly to a validator node and therefore rely upon VFNs for synchronization."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/guides/state-sync#archival-pfns",children:"Archival nodes (ANs)"})," - is a fullnode that contains all blockchain data since the start of the blockchain's history."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"separate-network-stacks",children:"Separate network stacks"}),"\n",(0,o.jsx)(n.p,{children:"The Aptos blockchain supports distinct networking stacks for various network topologies. For example, the validator network is independent of the fullnode network. The advantages of having separate network stacks include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Clean separation between the different networks."}),"\n",(0,o.jsx)(n.li,{children:"Better support for security preferences (e.g., bidirectional vs server authentication)."}),"\n",(0,o.jsx)(n.li,{children:"Allowance for isolated discovery protocols (i.e., on-chain discovery for validator node's public endpoints vs. manual configuration for private organizations)."}),"\n"]}),"\n",(0,o.jsx)(n.h1,{id:"node-synchronization",children:"Node synchronization"}),"\n",(0,o.jsx)(n.p,{children:"Aptos nodes synchronize to the latest state of the Aptos blockchain through two mechanisms: consensus or state synchronization. Validator nodes will use both consensus and state synchronization to stay up-to-date, while fullnodes use only state synchronization."}),"\n",(0,o.jsx)(n.p,{children:"For example, a validator node will invoke state synchronization when it comes online for the first time or reboots (e.g., after being offline for a while). Once the validator is up-to-date with the latest state of the blockchain it will begin participating in consensus and rely exclusively on consensus to stay up-to-date. Fullnodes, however, continuously rely on state synchronization to get and stay up-to-date as the blockchain grows."}),"\n",(0,o.jsx)(n.h2,{id:"state-synchronizer",children:"State synchronizer"}),"\n",(0,o.jsxs)(n.p,{children:["Each Aptos node contains a ",(0,o.jsx)(n.a,{href:"/guides/state-sync",children:"State Synchronizer"})," component which is used to synchronize the state of the node with its peers. This component has the same functionality for all types of Aptos nodes: it utilizes the dedicated peer-to-peer network to continuously request and disseminate blockchain data. Validator nodes distribute blockchain data within the validator node network, while fullnodes rely on other fullnodes (i.e., validator nodes or public fullnodes)."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},90069:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/v-fn-network-20283e9f73bf516237c0979d969af1db.svg"},83581:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var o=t(11855);const s={},i=o.createContext(s);function a(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);