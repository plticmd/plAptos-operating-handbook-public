<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/transaction-management" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">トランザクション管理 | Aptos Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aptos.dev/img/meta/og-aptos-docs-default.png"><meta data-rh="true" name="twitter:image" content="https://aptos.dev/img/meta/og-aptos-docs-default.png"><meta data-rh="true" property="og:url" content="https://aptos.dev/guides/transaction-management"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="トランザクション管理 | Aptos Docs"><meta data-rh="true" name="description" content="このガイドは、Aptosブロックチェーン上で拡張出来るトランザクション管理ハーネスの構築方法について解説します。"><meta data-rh="true" property="og:description" content="このガイドは、Aptosブロックチェーン上で拡張出来るトランザクション管理ハーネスの構築方法について解説します。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aptos.dev/guides/transaction-management"><link data-rh="true" rel="alternate" href="https://aptos.dev/guides/transaction-management" hreflang="en"><link data-rh="true" rel="alternate" href="https://aptos.dev/ja/guides/transaction-management" hreflang="ja"><link data-rh="true" rel="alternate" href="https://aptos.dev/guides/transaction-management" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HM7UY0NMLG-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HVB7QFB9PQ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-HVB7QFB9PQ",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Aptos Docs" href="/opensearch.xml">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/@stoplight/elements@7.7.5/styles.min.css" integrity="sha384-1lLf7J28IOR7k5RlItk6Y+G3hDgVB3y4RCgWNq6ZSwjYfvJXPtZAdW0uklsAZbGW" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.89bf2db0.css">
<script src="/assets/js/runtime~main.65eb5df6.js" defer="defer"></script>
<script src="/assets/js/main.0a39c1ce.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_rfFn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/aptos_word.svg" alt="Aptos Labs Logo" class="themedComponent_iS9h themedComponent--light_Wu9q"><img src="/img/aptos_word_dark.svg" alt="Aptos Labs Logo" class="themedComponent_iS9h themedComponent--dark_ZuQW"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_EebW"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/guides/transaction-management" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/guides/transaction-management" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">日本語</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/aptos-white-paper">Start</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/concepts">Learn about Aptos</a></li><li><a class="dropdown__link" href="/guides/explore-aptos">Explore Aptos</a></li><li><a class="dropdown__link" href="/releases/aptos-releases">Latest Releases</a></li><li><a class="dropdown__link" href="/nodes/networks">Networks</a></li><li><a class="dropdown__link" href="/aptos-white-paper">Read the Aptos White Paper</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/tutorials">Build</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tutorials">Tutorials</a></li><li><a class="dropdown__link" href="/move/move-on-aptos">Learn the Move Language</a></li><li><a class="dropdown__link" href="/standards">Aptos Standards</a></li><li><a class="dropdown__link" href="/apis">Aptos APIs</a></li><li><a class="dropdown__link" href="/sdks/index">Aptos SDKs</a></li><li><a class="dropdown__link" href="/tools/aptos-cli">Aptos CLI</a></li><li><a class="dropdown__link" href="/integration">Integrate with Aptos</a></li><li><a class="dropdown__link" href="/tutorials/build-e2e-dapp/e2e-dapp-index">Build E2E Dapp on Aptos</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/nodes/nodes-landing">Nodes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/nodes/nodes-landing">Learn about Nodes</a></li><li><a class="dropdown__link" href="/nodes/validator-node/validators">Run a Validator and VFN</a></li><li><a class="dropdown__link" href="/nodes/full-node/public-fullnode">Run a Public Fullnode</a></li><li><a class="dropdown__link" href="/nodes/operations/operations-index">Bootstrap a Node</a></li><li><a class="dropdown__link" href="/nodes/configure/configure-index">Configure a Node</a></li><li><a class="dropdown__link" href="/nodes/measure/measure-index">Monitor a Node</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/nodes/aptos-api-spec">Reference</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/nodes/aptos-api-spec">Aptos REST API Spec</a></li><li><a class="dropdown__link" href="/reference/error-codes">Aptos Errors Codes</a></li><li><a class="dropdown__link" href="/reference/move">Aptos Move Framework</a></li><li><a class="dropdown__link" href="/reference/glossary">Aptos Glossary</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/community">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community">Help the Aptos Ecosystem</a></li><li><a class="dropdown__link" href="/community/external-resources">External Resources</a></li><li><a class="dropdown__link" href="/community/site-updates">Update Aptos.dev</a></li><li><a class="dropdown__link" href="/community/aptos-style">Follow Aptos Style</a></li><li><a class="dropdown__link" href="/community/contributors">Contributors</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://learn.aptoslabs.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Learn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_c6F6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/aptos-labs/aptos-developer-discussions/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dev Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_c6F6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_wwMH colorModeToggle_GDDh"><button class="clean-btn toggleButton_faKJ toggleButtonDisabled_aZcY" type="button" disabled="" title="ダークモードを切り替える(現在はダークモード)" aria-label="ダークモードを切り替える(現在はダークモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_m8__"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_ZVRe"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_g2EE"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_gkQL"><div class="docsWrapper_Qxyk"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sWPH" type="button"></button><div class="docRoot_uKhe"><aside class="theme-doc-sidebar-container docSidebarContainer_Sj9c"><div class="sidebarViewport_Me7G"><div class="sidebar_JlDQ"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_YW1f"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title">Build</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tutorials/">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/move/move-on-aptos">Learn the Move Language</a><button aria-label="Expand sidebar category &#x27;Learn the Move Language&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/standards/">Aptos Standards</a><button aria-label="Expand sidebar category &#x27;Aptos Standards&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/apis/">Aptos APIs</a><button aria-label="Expand sidebar category &#x27;Aptos APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sdks/index">Aptos SDKs</a><button aria-label="Expand sidebar category &#x27;Aptos SDKs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tools/aptos-cli/">Aptos CLI</a><button aria-label="Expand sidebar category &#x27;Aptos CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/integration/">Integrate with Aptos</a><button aria-label="Expand sidebar category &#x27;Integrate with Aptos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tutorials/build-e2e-dapp/e2e-dapp-index">Build E2E Dapp with Aptos</a><button aria-label="Expand sidebar category &#x27;Build E2E Dapp with Aptos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/advanced-builders">Advanced Builder Guides</a><button aria-label="Collapse sidebar category &#x27;Advanced Builder Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/nodes/localnet/localnet-index">Develop Locally</a><button aria-label="Expand sidebar category &#x27;Develop Locally&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/sponsored-transactions">スポンサードトランザクション</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/transaction-management">トランザクション管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/account-management/key-rotation">認証キーのローテーション</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/building-from-source">Building Aptos From Source</a></li></ul></li></ul></nav><button type="button" title="サイドバーを隠す" aria-label="サイドバーを隠す" class="button button--secondary button--outline collapseSidebarButton_snYO"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Jf0I"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_fHdE"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_OUYU"><div class="docItemContainer_rlCk"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_A7pt" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_cEG4"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/advanced-builders"><span itemprop="name">Advanced Builder Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">トランザクション管理</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_MUT3 theme-doc-toc-mobile tocMobile_q7HR"><button type="button" class="clean-btn tocCollapsibleButton_gS9W">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>トランザクション管理</h1>
<p>このガイドは、Aptosブロックチェーン上で拡張出来るトランザクション管理ハーネスの構築方法について解説します。</p>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="背景">背景<a href="#背景" class="hash-link" aria-label="背景 への直接リンク" title="背景 への直接リンク">​</a></h2>
<p>Aptosでは、トランザクションとアカウントベースのシーケンスNo.を提供する署名か承認のエンティティーの観点からトランザクションはアカウントにマッピングされます。Aptosネットワークが新しいトランザクションを受信すると、以下に関したいくつかのルールへ従います。</p>
<ul>
<li>アカウントから送信されたトラン  ザクションは、アカウントによって適切に承認される必要が有ります。</li>
<li>最新の台帳更新が定義する現在時刻は、トランザクションの期限タイムスタンプより前である必要が有ります。</li>
<li>トランザクションのシーケンス番号は、アカウントのオンチェーンのシーケンスNo.以上である必要が有ります。</li>
</ul>
<p>最初のノードがトランザクションを受け入れると、そのトランザクションは追加のルールによってそのシステムを通過します。トランザクションシーケンスNo.が現在のオンチェーンシーケンスNo.よりも大きい場合、パスの全てのノードがオンチェーン状態と現在のシーケンスNo.間のシーケンスNo.でトランザクションを確認出来ている場合のみ、合意方向へ進行出来ます。</p>
<p>例 :</p>
<p>アリスは現在のオンチェーンシーケンスNo.が5のアカウントを所有しています。</p>
<p>アリスはボブのノードへシーケンスNo.6のトランザクションを提出します。</p>
<p>ノードを受け入れるボブはトランザクションを受け入れますが、ボブは5を見ていないためそれを進行しません。</p>
<p>進行させるためには、アリスがボブへトランザクションNo.5を送信するか、5がコミットされた事の合意をボブが知らされる必要があ有ります。後者ではアリスは他のノードを介してトランザクションを送信しました。</p>
<p>これ以外で2つの原則が残っています。</p>
<ul>
<li>単一アカウントはブロックチェーンへ送信されるコミットされていないトランザクションを最大100保持出来ます。それ以上の場合はトランザクションは拒否されます。これはアリスが最初の100をノードボブへ送信し、次の100をノードキャロルへ送信した場合、黙  って起こる可能性が有ります。それら両方のノードが共通の流れを共有するなら、その流れはボブ経由で送信したアリスの100を受け入れますが、キャロル経由で送信したアリスの100は黙って拒否されます。</li>
<li>複数のノードへの異なるトランザクションの送信は結果として、先行する全てのトランザクションがコミットされた事を”送信された”が知るまで、トランザクションが送信したノードから進行しないゆっくりとした解決となります。例えば、アリスがボブ経由で最初の50を送信し、次にキャロル経由で50を送信する場合。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="トランザクションマネージャーの構築">トランザクションマネージャーの構築<a href="#トランザクションマネージャーの構築" class="hash-link" aria-label="トランザクションマネージャーの構築 への直接リンク" title="トランザクションマネージャーの構築 への直接リンク">​</a></h2>
<p>トランザクションのニュアンスを理解したので、堅牢なトランザクション マネージャーの構築について深堀りしましょう。これは以下のコアコンポーネントで構成されます。</p>
<ul>
<li>シーケンスNo.ジェネレーターは単一アカウントが使用可能なシーケンスNo.を管理し割り当てます。</li>
<li>アプリケーションかユーザーからのペイロードを受け取り、シーケンスNo.ジェネレーターからのシーケンスNo.を受け取り、アカウントキーへアクセスして実行可能な署名済トランザクションへ3ピースを組み合わせるトランザクションマネージャー。これはトランザクションをブロックチェーンへプッシュする役割も有ります。</li>
<li>オンチェーンワーカー、リーダーハーネ  スは複数のアカウントが単一の共有アカウントの署名者を共有出来る様にします。</li>
</ul>
<p>現在、このフレームワークは、ネットワークが実質的なキューを構築しない、遅延が殆ど無い送信が実行、コミットされたトランザクションだと仮定します。高い需要に対応するには以下のコンポーネントでこの作業を拡張する必要が有ります。</p>
<ul>
<li>トランザクションが優先してブロックチェーンへコミットする様、<code>base_gas_unit</code>価格を最適化します。</li>
<li>トランザクション処理レートが期限タイマーを適切に設定される様処理します。</li>
<li>トランザクションの失敗の扱いは無視するか送信し直すかのどちらかです。</li>
</ul>
<p>注意：アカウントはトランザクションマネージャーの単一インスタンスが管理する必要が有ります。でなければ、トランザクションマネージャーの各インスタンスはメモリ内の状態が古くなり、シーケンスNo.が重複する可能性があります。</p>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="実装">実装<a href="#実装" class="hash-link" aria-label="実装 への直接リンク" title="実装 への直接リンク">​</a></h3>
<ul>
<li>Python<!-- -->
<ul>
<li><a href="https://github.com/aptos-labs/aptos-core/pull/7987" target="_blank" rel="noopener noreferrer">シーケンスNo.マネージャー</a></li>
<li><a href="https://github.com/aptos-labs/aptos-core/pull/7987" target="_blank" rel="noopener noreferrer">トランザクションマネージャー</a></li>
</ul>
</li>
<li><a href="https://github.com/aptos-labs/aptos-core/pull/7986" target="_blank" rel="noopener noreferrer">ワーカーリーダースマートコントラクト</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="シーケンスnoの管理">シーケンスNo.の管理<a href="#シーケンスnoの  管理" class="hash-link" aria-label="シーケンスNo.の管理 への直接リンク" title="シーケンスNo.の管理 への直接リンク">​</a></h3>
<p>各トランザクションは以前送信されたトランザクションへの連続の個別のシーケンスNo.が必要です。これは以下のプロセスで提供出来ます。</p>
<ol>
<li>起動時にアカウントの現在のシーケンスNo.を、ブロックチェーンでクエリします。</li>
<li>同時に100トランザクションまでサポートします。それはコミットされたかどうかの確認無しで100シーケンスNo.が分配する事が出来ます。</li>
<li>実行中のトランザクションが100ある場合は、ネットワークをクエリする事で実際のコミットされた状態を確認します。これは現在のシーケンスNo.を更新します。</li>
<li>実行中のトランザクションが100未満の場合はステップ２へ戻ります。</li>
<li>それ以外の場合は、0.1秒間スリープし、現在のオンチェーンシーケンスNo.の再評価を続けます。</li>
<li>全てのトランザクションは有効期限が必要です。有効期限が過ぎた場合は、失敗したと見なしシーケンスNo.をリセットします。簡単なケースとしては最大のトランザクションNo.が実行中、失敗のみを監視し、それ以外の場合は他のサービスがこれを管理します。</li>
</ol>
<p>並行して、送信された新しいトランザクションを監視します。最も早いトランザクションの有効期限が切れたら、そのトランザクションまで同期します。次のトランザクションでこのプロセスを繰り返します。</p>
<p>何かが失敗した場合は、全ての未解決のトランザクションがタイムアウトするまで待機し、アプリケーションに続行方法の決定を任せます。失敗したトランザクションを再生する等 。未処理のトランザクションを待機する最善の方法は、元帳のタイムスタンプをクエリし、少なくとも最後のトランザクションの送信時刻から最大タイムアウトが経過していることを確認する事です。そこから、最後にコミットされたトランザクション以降の全てのトランザクションがコミットされているか、メモリプール内に長く存在しない事をメモリプールで検証します。これは、特定のアカウントのトランザクションのREST APIをクエリし、現在評価されているシーケンスNo.を指定して、制限を1へ設定することで実行できます。これらのチェックが完了すると、ローカルトランザクションNo.を再同期できます。</p>
<p>これらの失敗の処理手順は以下の事由から重要です。</p>
<ul>
<li>メモリプールは期限切れのトランザクションを即座に削除しません。</li>
<li>有効期限が切れている場合でも、新しいトランザクションが既存のトランザクションを上書きすることはできません。</li>
<li>コンセンサス、つまり元帳のタイムスタンプが有効期限を決定し、ローカルノードは、トランザクションの期限切れでガベージコレクションが発生した後にコミットされたタイムスタンプを確認した後にのみ有効期限が切れます。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="トランザクションの管理">トランザクションの管理<a href="#トランザクションの管理" class="hash-link" aria-label="トランザクションの管理 への直接リンク" title="トランザクションの管理 への直接リンク">​</a></h3>
<p>トランザクションが送信されると、さまざまな手順が実行されます。</p>
<ol>
<li>REST エンドポイントへの送信。</li>
<li>送信中のメモリプールでの実行  前検証。</li>
<li>各上流ノードで実行前検証が行われるメモリプールからメモリプールへの送信。</li>
<li>コンセンサス提案への組み込み。</li>
<li>実行前検証をもうひとつ。</li>
<li>ストレージへのコミットと実行。
Execution and committing to storage.</li>
</ol>
<p>考慮すべき潜在的な失敗のケースが数多くあります。</p>
<ul>
<li>トランザクション送信時の失敗 (1と2):<!-- -->
<ul>
<li>可視性: アプリケーションは、ネットワークが利用できないか、トランザクションが実行前の検証に失敗したというエラーを受け取ります。</li>
<li>エラーが可用性または重複したシーケンスNo.と関連している場合は、アクセスが可能となり、シーケンスNo.が再同期されるまで待ちます。</li>
<li>実行前検証の失敗は現在対象外です。
重複するシーケンス番号に関連する失敗以外では、アカウントが無効なアカウントのキーを発行している可能性が高い、またはアカウントの発行でガス用の充分な資金が不足している可能性があります。</li>
</ul>
</li>
<li>提出から実行までの失敗（3、4、5）<!-- -->
<ul>
<li>可視性: トランザクションの有効期限が切れるまで待つ事でのみわかります。</li>
<li>これらは、以前のトランザクションの実行時にアカウントが変更された際の他の実行前検証エラーと同じです。シーケンス番号が重複しているか、アカウントのガス用の資金が不足している可能性があります。</li>
</ul>
</li>
<li>実行中の失敗 (6):<!-- -->
<ul>
<li>可視性: これらはブロックチェーンへコミットされます。</li>
<li>これらのエラーは、オンチェーン状態の問題の結果として発生します。これらは、新しい入札が実際には現在の入札より安い可能性があるオークショ ンなど、アプリケーション固有である傾向があります。</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="ワーカーとアイデンティティー">ワーカーとアイデンティティー<a href="#ワーカーとアイデンティティー" class="hash-link" aria-label="ワーカーとアイデンティティー への直接リンク" title="ワーカーとアイデンティティー への直接リンク">​</a></h3>
<p>上記のフレームワークを使用すると、1つのアカウントでブロックの先頭からブロックの最後まで100以上のトランザクションをプッシュできます。100のトランザクションが全て1つのブロック内で消費されると仮定すると、次の100スロットが利用可能となるまで少し時間がかかります。これは、ネットワークの遅延と複数段階のパイプラインによる物です。</p>
<p>ブロックチェーンを最大限に活用して大量のスループットを実現するには、単一のユーザーアカウントを使用するだけでは不充分です。代わりに、Aptosは、
共有アカウント(リソースアカウントとしても知られています)を通じて作業をプッシュする責任を共有できる
ワーカーアカウントの概念をサポートしています。</p>
<p>このモデルでは、各従業員は共有アカウントの<code>SignerCap</code>にアクセスできるため、共有アカウントになりすましたり、共有アカウントの<code>signer</code>を生成したりできます。<code>signer</code>を取得するとトランザクションは共有アカウントの署名者によってゲートされたロジックを実行できます。</p>
<p>実行可能であれば、別のモデルとして<code>signer</code>から許可を完全に切り離し、アプリケーション固有の機能を作成します。その後、この機能を各ワーカーへ付与し、共有インフ ラストラクチャ上で操作出来る様にします。</p>
<p>注意: トランザクションが読み込みもしくは書き込みで何か衝突が有る場合、共有のインフラ上の並列化は制限される可能性があります。これはブロックで複数のトランザクションが実行されるのを防ぎませんが、最大ブロックチェーンパフォーマンスへ影響を与える可能性が有ります。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/aptos-labs/developer-docs/edit/main/apps/docusaurus/docs/guides/transaction-management.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_l3kn" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_nZMy"><span class="theme-last-updated"><b><time datetime="2024-05-23T21:17:58.000Z">2024年5月23日</time></b>に<!-- -->最終更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/sponsored-transactions"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">スポンサードトランザクション</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/account-management/key-rotation"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">認証キーのローテーション</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_HHZg thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#背景" class="table-of-contents__link toc-highlight">背景</a></li><li><a href="#トランザクションマネージャーの構築" class="table-of-contents__link toc-highlight">トランザクションマネージャーの構築</a><ul><li><a href="#実装" class="table-of-contents__link toc-highlight">実装</a></li><li><a href="#シーケンスnoの管理" class="table-of-contents__link toc-highlight">シーケンスNo.の管理</a></li><li><a href="#トランザクションの管理" class="table-of-contents__link toc-highlight">トランザクションの管理</a></li><li><a href="#ワーカーとアイデンティティー" class="table-of-contents__link toc-highlight">ワーカーとアイデンティティー</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                <div class="footer-left">
                  <a class="footer-logo" href="https://aptosfoundation.org" target="_blank" rel="noopener noreferrer" title="Aptos Foundation">
                    <svg width="100%" height="100%" version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112 112" overflow="visible" xml:space="preserve"><path fill="currentColor" d="M86.6 37.4h-9.9c-1.1 0-2.2-.5-3-1.3l-4-4.5c-1.2-1.3-3.1-1.4-4.5-.3l-.3.3-3.4 3.9c-1.1 1.3-2.8 2-4.5 2H2.9C1.4 41.9.4 46.6 0 51.3h51.2c.9 0 1.8-.4 2.4-1l4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1.1l4 4.5c.8.9 1.9 1.4 3 1.4H112c-.4-4.7-1.4-9.4-2.9-13.8H86.6zM53.8 65l-4-4.5c-1.2-1.3-3.1-1.4-4.5-.3l-.3.3-3.5 3.9c-1.1 1.3-2.7 2-4.4 2H.8c.9 4.8 2.5 9.5 4.6 14h25.5c.9 0 1.7-.4 2.4-1l4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1.1l4 4.5c.8.9 1.9 1.4 3 1.4h56.6c2.1-4.4 3.7-9.1 4.6-14H56.8c-1.2 0-2.3-.5-3-1.4zm19.6-43.6 4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1l4 4.5c.8.9 1.9 1.3 3 1.3h10.8c-18.8-24.8-54.1-29.7-79-11-4.1 3.1-7.8 6.8-11 11H71c1 .2 1.8-.2 2.4-.8zM34.7 94.2c-1.2 0-2.3-.5-3-1.3l-4-4.5c-1.2-1.3-3.2-1.4-4.5-.2l-.2.2-3.5 3.9c-1.1 1.3-2.7 2-4.4 2h-.2C36 116.9 71.7 118 94.4 96.7c.9-.8 1.7-1.7 2.6-2.6H34.7z"/></svg>
                  </a>
                  <div class="copyright">
                    <p class="copyright-text">© 2024 Aptos Foundation</p>
                    <div class="copyright-links">
                      <a href="https://aptosfoundation.org/privacy" target="_blank">Privacy</a>
                      <a href="https://aptosfoundation.org/terms" target="_blank">Terms</a></div>
                  </div>
                </div>
                </li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                  <p class="right">
                    <nav class="social-links">
                        <a class="social-link" href="https://github.com/aptos-labs/developer-docs" target="_blank" rel="noopener noreferrer" title="Github">
                         <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 0C4.47514 0 0 4.47514 0 10C0 14.4199 2.86679 18.1645 6.83855 19.4905C7.33579 19.5826 7.51995 19.2756 7.51995 19.0055C7.51995 18.7661 7.51381 18.14 7.50767 17.3051C4.72683 17.9067 4.13751 15.9668 4.13751 15.9668C3.68324 14.8128 3.0264 14.5058 3.0264 14.5058C2.11786 13.8858 3.09392 13.8981 3.09392 13.8981C4.09454 13.9718 4.62861 14.9294 4.62861 14.9294C5.51872 16.4579 6.96746 16.016 7.53837 15.7581C7.63045 15.1136 7.88827 14.6716 8.17066 14.4199C5.94843 14.1682 3.61571 13.3088 3.61571 9.47821C3.61571 8.38551 4.00246 7.4954 4.64702 6.79558C4.54266 6.54389 4.19889 5.52486 4.74524 4.14978C4.74524 4.14978 5.58625 3.87968 7.4954 5.17495C8.29343 4.95396 9.14672 4.84346 10 4.83732C10.8471 4.83732 11.7066 4.95396 12.5046 5.17495C14.4137 3.87968 15.2548 4.14978 15.2548 4.14978C15.8011 5.52486 15.4573 6.54389 15.353 6.79558C15.9914 7.4954 16.3781 8.38551 16.3781 9.47821C16.3781 13.3211 14.0393 14.1621 11.8109 14.4137C12.167 14.7207 12.4923 15.3346 12.4923 16.2676C12.4923 17.6059 12.48 18.6802 12.48 19.0117C12.48 19.2818 12.6581 19.5887 13.1676 19.4905C17.1393 18.1645 20 14.4199 20 10.0061C20 4.47514 15.5249 0 10 0Z" fill="currentColor"/></svg>
                        </a>
                        <a class="social-link" href="https://discord.gg/aptosnetwork" target="_blank" rel="noopener noreferrer" title="Discord">
                          <svg width="100%" height="100%" viewBox="0 0 71 55" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M60.105 4.898A58.55 58.55 0 0 0 45.653.415a.22.22 0 0 0-.233.11 40.784 40.784 0 0 0-1.8 3.697c-5.456-.817-10.886-.817-16.23 0-.485-1.164-1.201-2.587-1.828-3.697a.228.228 0 0 0-.233-.11 58.386 58.386 0 0 0-14.451 4.483.207.207 0 0 0-.095.082C1.578 18.73-.944 32.144.293 45.39a.244.244 0 0 0 .093.167c6.073 4.46 11.955 7.167 17.729 8.962a.23.23 0 0 0 .249-.082 42.08 42.08 0 0 0 3.627-5.9.225.225 0 0 0-.123-.312 38.772 38.772 0 0 1-5.539-2.64.228.228 0 0 1-.022-.378 31.17 31.17 0 0 0 1.1-.862.22.22 0 0 1 .23-.03c11.619 5.304 24.198 5.304 35.68 0a.219.219 0 0 1 .233.027c.356.293.728.586 1.103.865a.228.228 0 0 1-.02.378 36.384 36.384 0 0 1-5.54 2.637.227.227 0 0 0-.121.315 47.249 47.249 0 0 0 3.624 5.897.225.225 0 0 0 .249.084c5.801-1.794 11.684-4.502 17.757-8.961a.228.228 0 0 0 .092-.164c1.48-15.315-2.48-28.618-10.497-40.412a.18.18 0 0 0-.093-.084Zm-36.38 32.427c-3.497 0-6.38-3.211-6.38-7.156 0-3.944 2.827-7.156 6.38-7.156 3.583 0 6.438 3.24 6.382 7.156 0 3.945-2.827 7.156-6.381 7.156Zm23.593 0c-3.498 0-6.38-3.211-6.38-7.156 0-3.944 2.826-7.156 6.38-7.156 3.582 0 6.437 3.24 6.38 7.156 0 3.945-2.798 7.156-6.38 7.156Z" fill="currentColor"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h71v55H0z"/></clipPath></defs></svg>
                        </a>
                        <a class="social-link" href="https://twitter.com/Aptos" target="_blank" rel="noopener noreferrer" title="Twitter">
                          <svg width="100%" height="100%" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 2.013a9.395 9.395 0 0 1-2.593.676A4.348 4.348 0 0 0 21.392.314a9.341 9.341 0 0 1-2.866 1.042A4.62 4.62 0 0 0 15.232 0c-2.493 0-4.514 1.922-4.514 4.292 0 .336.04.664.117.978C7.083 5.09 3.758 3.382 1.532.786A4.115 4.115 0 0 0 .92 2.944c0 1.489.796 2.802 2.007 3.571A4.669 4.669 0 0 1 .884 5.98v.053c0 2.08 1.555 3.815 3.62 4.209a4.744 4.744 0 0 1-2.038.074c.574 1.705 2.241 2.945 4.216 2.98a9.358 9.358 0 0 1-5.605 1.837c-.365 0-.724-.02-1.077-.06A13.257 13.257 0 0 0 6.918 17c8.303 0 12.843-6.54 12.843-12.21 0-.187-.004-.372-.013-.556A8.929 8.929 0 0 0 22 2.013Z" fill="currentColor"/></svg>
                        </a>
                    </nav>
                  </p>
              </li></ul></div></div></div></footer></div>
</body>
</html>