<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-concepts/gas-txn-fee" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Gas and Storage Fees | Aptos Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aptos.dev/img/meta/og-aptos-docs-default.png"><meta data-rh="true" name="twitter:image" content="https://aptos.dev/img/meta/og-aptos-docs-default.png"><meta data-rh="true" property="og:url" content="https://aptos.dev/concepts/gas-txn-fee"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Gas and Storage Fees | Aptos Docs"><meta data-rh="true" name="description" content="Any transaction execution on the Aptos blockchain requires a processing fee. As of today, this fee comprises two components:"><meta data-rh="true" property="og:description" content="Any transaction execution on the Aptos blockchain requires a processing fee. As of today, this fee comprises two components:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aptos.dev/concepts/gas-txn-fee"><link data-rh="true" rel="alternate" href="https://aptos.dev/concepts/gas-txn-fee" hreflang="en"><link data-rh="true" rel="alternate" href="https://aptos.dev/ja/concepts/gas-txn-fee" hreflang="ja"><link data-rh="true" rel="alternate" href="https://aptos.dev/concepts/gas-txn-fee" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HM7UY0NMLG-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HVB7QFB9PQ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-HVB7QFB9PQ",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Aptos Docs" href="/opensearch.xml">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/@stoplight/elements@7.7.5/styles.min.css" integrity="sha384-1lLf7J28IOR7k5RlItk6Y+G3hDgVB3y4RCgWNq6ZSwjYfvJXPtZAdW0uklsAZbGW" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.89bf2db0.css">
<script src="/assets/js/runtime~main.65eb5df6.js" defer="defer"></script>
<script src="/assets/js/main.0a39c1ce.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="„É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Åæ„Åß„Çπ„Ç≠„ÉÉ„Éó"><a class="skipToContent_rfFn" href="#__docusaurus_skipToContent_fallback">„É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Åæ„Åß„Çπ„Ç≠„ÉÉ„Éó</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/aptos_word.svg" alt="Aptos Labs Logo" class="themedComponent_iS9h themedComponent--light_Wu9q"><img src="/img/aptos_word_dark.svg" alt="Aptos Labs Logo" class="themedComponent_iS9h themedComponent--dark_ZuQW"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_EebW"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Êó•Êú¨Ë™û</a><ul class="dropdown__menu"><li><a href="/concepts/gas-txn-fee" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/concepts/gas-txn-fee" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">Êó•Êú¨Ë™û</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/aptos-white-paper">Start</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/concepts">Learn about Aptos</a></li><li><a class="dropdown__link" href="/guides/explore-aptos">Explore Aptos</a></li><li><a class="dropdown__link" href="/releases/aptos-releases">Latest Releases</a></li><li><a class="dropdown__link" href="/nodes/networks">Networks</a></li><li><a class="dropdown__link" href="/aptos-white-paper">Read the Aptos White Paper</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/tutorials">Build</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tutorials">Tutorials</a></li><li><a class="dropdown__link" href="/move/move-on-aptos">Learn the Move Language</a></li><li><a class="dropdown__link" href="/standards">Aptos Standards</a></li><li><a class="dropdown__link" href="/apis">Aptos APIs</a></li><li><a class="dropdown__link" href="/sdks/index">Aptos SDKs</a></li><li><a class="dropdown__link" href="/tools/aptos-cli">Aptos CLI</a></li><li><a class="dropdown__link" href="/integration">Integrate with Aptos</a></li><li><a class="dropdown__link" href="/tutorials/build-e2e-dapp/e2e-dapp-index">Build E2E Dapp on Aptos</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/nodes/nodes-landing">Nodes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/nodes/nodes-landing">Learn about Nodes</a></li><li><a class="dropdown__link" href="/nodes/validator-node/validators">Run a Validator and VFN</a></li><li><a class="dropdown__link" href="/nodes/full-node/public-fullnode">Run a Public Fullnode</a></li><li><a class="dropdown__link" href="/nodes/operations/operations-index">Bootstrap a Node</a></li><li><a class="dropdown__link" href="/nodes/configure/configure-index">Configure a Node</a></li><li><a class="dropdown__link" href="/nodes/measure/measure-index">Monitor a Node</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/nodes/aptos-api-spec">Reference</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/nodes/aptos-api-spec">Aptos REST API Spec</a></li><li><a class="dropdown__link" href="/reference/error-codes">Aptos Errors Codes</a></li><li><a class="dropdown__link" href="/reference/move">Aptos Move Framework</a></li><li><a class="dropdown__link" href="/reference/glossary">Aptos Glossary</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/community">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community">Help the Aptos Ecosystem</a></li><li><a class="dropdown__link" href="/community/external-resources">External Resources</a></li><li><a class="dropdown__link" href="/community/site-updates">Update Aptos.dev</a></li><li><a class="dropdown__link" href="/community/aptos-style">Follow Aptos Style</a></li><li><a class="dropdown__link" href="/community/contributors">Contributors</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://learn.aptoslabs.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Learn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_c6F6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/aptos-labs/aptos-developer-discussions/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dev Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_c6F6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_wwMH colorModeToggle_GDDh"><button class="clean-btn toggleButton_faKJ toggleButtonDisabled_aZcY" type="button" disabled="" title="„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ„ÇíÂàá„ÇäÊõø„Åà„Çã(ÁèæÂú®„ÅØ„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ)" aria-label="„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ„ÇíÂàá„ÇäÊõø„Åà„Çã(ÁèæÂú®„ÅØ„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_m8__"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_ZVRe"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_g2EE"><button type="button" class="DocSearch DocSearch-Button" aria-label="Ê§úÁ¥¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Ê§úÁ¥¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_gkQL"><div class="docsWrapper_Qxyk"><button aria-label="ÂÖàÈ†≠„Å∏Êàª„Çã" class="clean-btn theme-back-to-top-button backToTopButton_sWPH" type="button"></button><div class="docRoot_uKhe"><aside class="theme-doc-sidebar-container docSidebarContainer_Sj9c"><div class="sidebarViewport_Me7G"><div class="sidebar_JlDQ"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_YW1f"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title">Start</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/concepts/">Learn about Aptos</a><button aria-label="Collapse sidebar category &#x27;Learn about Aptos&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/concepts/blockchain">Aptos Blockchain Deep Dive</a><button aria-label="Expand sidebar category &#x27;Aptos Blockchain Deep Dive&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/move-on-aptos">Move - A Web3 Language and Runtime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/accounts">Accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/resources">Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/events">Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/txns-states">Transactions and States</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/concepts/gas-txn-fee">Gas and Storage Fees</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/base-gas">Computing Transaction Gas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/blocks">Blocks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/concepts/staking">Staking</a><button aria-label="Expand sidebar category &#x27;Staking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/governance">Governance</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guides/explore-aptos">Explore Aptos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/aptos-releases">Latest Aptos Releases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nodes/networks">Networks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aptos-white-paper/">Aptos White Paper(Êó•Êú¨Ë™û)</a></li></ul></nav><button type="button" title="„Çµ„Ç§„Éâ„Éê„Éº„ÇíÈö†„Åô" aria-label="„Çµ„Ç§„Éâ„Éê„Éº„ÇíÈö†„Åô" class="button button--secondary button--outline collapseSidebarButton_snYO"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Jf0I"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_fHdE"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_OUYU"><div class="docItemContainer_rlCk"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_A7pt" aria-label="„Éë„É≥„Åè„Åö„É™„Çπ„Éà„ÅÆ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="„Éõ„Éº„É†„Éö„Éº„Ç∏" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_cEG4"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/concepts/"><span itemprop="name">Learn about Aptos</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Gas and Storage Fees</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_MUT3 theme-doc-toc-mobile tocMobile_q7HR"><button type="button" class="clean-btn tocCollapsibleButton_gS9W">„Åì„ÅÆ„Éö„Éº„Ç∏„ÅÆË¶ãÂá∫„Åó</button></div><div class="theme-doc-markdown markdown"><header><h1>Gas and Storage Fees</h1></header><p>Any transaction execution on the Aptos blockchain requires a processing fee. As of today, this fee comprises two components:</p>
<ol>
<li>Execution &amp; IO costs</li>
</ol>
<ul>
<li>This covers your usage of transient computation resources, such as processing your transactions and propagating the validated record throughout the distributed network of the mainnet.</li>
<li>It is measured in Gas Units whose price may fluctuate according to the load of the network. This allows execution and IO costs to be low when the network is less busy.</li>
<li>This portion of gas is burned permanently upon the execution of a transaction.</li>
</ul>
<ol start="2">
<li>Storage fees</li>
</ol>
<ul>
<li>This covers the cost to persistently store validated record in the distributed blockchain storage.</li>
<li>It is measured in fixed APT prices, so the permanent storage cost stays stable even as the gas unit price fluctuates with the network&#x27;s transient load.</li>
<li>The storage fee can be refunded when the allocated storage space is deleted. The refund amount may be full or partial, based on the size and duration of the storage used.</li>
<li>To keep system implementation simple, this portion of gas is burned and minted again upon refund.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xfYw alert alert--success"><div class="admonitionHeading_V4B4"><span class="admonitionIcon_EG4P"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>„Éí„É≥„Éà</div><div class="admonitionContent_CBOD"><p>Conceptually, this fee can be thought of as quite similar to how we pay for our home electric or water utilities.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="unit-of-gas">Unit of gas<a href="#unit-of-gas" class="hash-link" aria-label="Unit of gas „Å∏„ÅÆÁõ¥  Êé•„É™„É≥„ÇØ" title="Unit of gas „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<p>Transactions can range from simple and inexpensive to complicated based upon what they do. In the Aptos blockchain, a <strong>unit of gas</strong> represents a basic unit of consumption for transient resources, such as doing computation or accessing the storage. The latter should not be conflated with the long-term storage aspect of such operations, as that is covered by the storage fees separately.</p>
<p>See <a href="/concepts/base-gas">How Base Gas Works</a> for a detailed description of gas fee types and available optimizations.</p>
<div class="theme-admonition theme-admonition-tip admonition_xfYw alert alert--success"><div class="admonitionHeading_V4B4"><span class="admonitionIcon_EG4P"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Unit of gas</div><div class="admonitionContent_CBOD"><p>üëâ A <strong>unit of gas</strong> is a dimensionless number or a unit that is not associated with any one item such as a coin, expressed as an integer. The total gas units consumed by your transaction depend on the complexity of your transaction. The <strong>gas price</strong>, on the other hand, is expressed in terms of Aptos blockchain‚Äôs native coin (Octas). Also see <a href="/concepts/txns-states">Transactions and States</a> for how a transaction submitted to the Aptos blockchain looks like.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="the-fee-statement">The Fee Statement<a href="#the-fee-statement" class="hash-link" aria-label="The Fee Statement „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="The Fee Statement „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<p>As of Aptos Framework release 1.7, the breakdown of fee charges and refunds is emitted as a module event represented by struct <code>0x1::transaction_fee::FeeStatement</code>.</p>
<div class="language-Rust language-rust codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-rust codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">#[event]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Breakdown of fee charge and refund for a transaction.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// The structure is:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// - Net charge or refund (not in the statement)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///    - total charge: total_charge_gas_units, matches `gas_used` in the on-chain `TransactionInfo`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///      This is the sum of the sub-items below. Notice that there&#x27;s potential precision loss when</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///      the conversion between internal and external gas units and between native token and gas</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///      units, so it&#x27;s possible that the numbers don&#x27;t add up exactly. -- This number is the final</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///      charge, while the break down is merely informational.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///        - gas charge for execution (CPU time): `execution_gas_units`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///        - gas charge for IO (storage random access): `io_gas_units`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///        - storage fee charge (storage space): `storage_fee_octas`, to be included in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///          `total_charge_gas_unit`, this number is converted to gas units according to the user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///          specified `gas_unit_price` on the transaction.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///    - storage deletion refund: `storage_fee_refund_octas`, this is not included in `gas_used` or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///      `total_charge_gas_units`, the net charge / refund is calculated by</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///      `total_charge_gas_units` * `gas_unit_price` - `storage_fee_refund_octas`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// This is meant to be emitted as a module event.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token type-definition class-name">FeeStatement</span><span class="token plain"> has drop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> store </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Total gas charge.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        total_charge_gas_units</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Execution gas charge.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        execution_gas_units</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// IO gas charge.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        io_gas_units</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Storage fee charge.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        storage_fee_octas</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Storage fee refund.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        storage_fee_refund_octas</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éº„Éâ„Çí„Ç≥„Éî„Éº" title="„Ç≥„Éî„Éº" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="gas-price-and-prioritizing-transactions">Gas price and prioritizing transactions<a href="#gas-price-and-prioritizing-transactions" class="hash-link" aria-label="Gas price and prioritizing transactions „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Gas price and prioritizing transactions „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<p>In the Aptos network, the Aptos governance sets the absolute minimum gas unit price. However, the market determines how quickly a transaction with a particular gas unit price is processed. See <a href="https://etherscan.io/gastracker" target="_blank" rel="noopener noreferrer">Ethereum Gas Tracker</a>, for example, which shows the market price movements of Ethereum gas price.</p>
<p>By specifying a higher gas unit price than the current market price, you can <strong>increase</strong> the priority level for your transaction on the blockchain by paying a larger processing fee. As part of consensus, when the leader selects transactions from its mempool to propose as part of the next block, it will prioritize selecting transactions with a higher gas unit price. Please note that higher gas fees only prioritize transaction selection for the next block.</p>
<p>However, within a block, the order of transaction execution is determined by the system. This order is based on <a href="https://github.com/aptos-foundation/AIPs/blob/main/aips/aip-27.md" target="_blank" rel="noopener noreferrer">transaction shuffling</a>, which makes parallel execution more efficient by considering conflict patterns. While in most cases this is unnecessary, if the network is under load this measure can ensure your transaction is processed more quickly. See the <code>gas_unit_price</code> entry under <a href="#estimating-gas-consumption-via-simulation">Estimating the gas units via simulation</a> for details.</p>
<div class="theme-admonition theme-admonition-caution admonition_xfYw alert alert--warning"><div class="admonitionHeading_V4B4"><span class="admonitionIcon_EG4P"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Increasing gas unit price with in-flight transactions</div><div class="admonitionContent_CBOD"><p>üëâ If you are increasing gas unit price, but have in-flight (uncommitted) transactions for the same account, you should resubmit all of those transactions with the higher gas unit price. This is because transactions within the same account always have to respect sequence number, so effectively the higher gas unit price transaction will increase priority only after the in-flight transactions are included in a block.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="specifying-gas-fees-within-a-transaction">Specifying gas fees within a transaction<a href="#specifying-gas-fees-within-a-transaction" class="hash-link" aria-label="Specifying gas fees within a transaction „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Specifying gas fees within a transaction „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<p>When a transaction is submitted to the Aptos blockchain, the transaction must contain the following mandatory gas fields:</p>
<ul>
<li>
<p><code>max_gas_amount</code>: The maximum number of gas units that the transaction sender is willing to spend to execute the transaction. This determines the maximum computational resources that can be consumed by the transaction.</p>
</li>
<li>
<p><code>gas_price</code>: The gas price the transaction sender is willing to pay. It is expressed in Octa units, where 1 Octa equals 10<sup>-8</sup> Aptos utility token.</p>
<p>During the transaction execution, the total gas amount, expressed as:</p>
<div class="codeBlockContainer_YU8y theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_Z3Eu"><pre tabindex="0" class="prism-code language-text codeBlock_TXgN thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Szw2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(total gas units consumed) * (gas_price)</span><br></span></code></pre><div class="buttonGroup_YI7t"><button type="button" aria-label="„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éº„Éâ„Çí„Ç≥„Éî„Éº" title="„Ç≥„Éî„Éº" class="clean-btn"><span class="copyButtonIcons_KVkY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__tFq"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VZKC"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>must not exceed <code>max_gas_amount</code>, or else the transaction will abort the execution.</p>
</li>
</ul>
<p>The transaction fee charged to the client will be at the most <code>gas_price * max_gas_amount</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="gas-parameters-set-by-governance">Gas parameters set by governance<a href="#gas-parameters-set-by-governance" class="hash-link" aria-label="Gas parameters set by governance „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Gas parameters set by governance „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<p>The following gas parameters are set by Aptos governance.</p>
<div class="theme-admonition theme-admonition-tip admonition_xfYw alert alert--success"><div class="admonitionHeading_V4B4"><span class="admonitionIcon_EG4P"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>On-chain gas schedule</div><div class="admonitionContent_CBOD"><p>These on-chain gas parameters are published on the Aptos blockchain at <code>0x1::gas_schedule::GasScheduleV2</code>.</p></div></div>
<ul>
<li><code>txn.maximum_number_of_gas_units</code>: Maximum number of gas units that can be spent (this is the maximum allowed value for the <code>max_gas_amount</code> gas parameter in the transaction). This is to ensure that the dynamic pricing adjustments do not exceed how much you are willing to pay in total.</li>
<li><code>txn.min_transaction_gas_units</code>: Minimum number of gas units that can be spent. The <code>max_gas_amount</code> value in the transaction must be set to greater than this parameter‚Äôs value.</li>
</ul>
<p>There also exists some global per-category limits:</p>
<ul>
<li><code>txn.max_execution_gas</code>: The maximum number of gas units a transaction can spend on execution.</li>
<li><code>txn.max_io_gas</code>: The maximum number of gas units a transaction can spend on IO.</li>
<li><code>txn.max_storage_fee</code>: The maximum amount of APT a transaction can spend on persistent storage.
These limits help decouple one category from another, allowing us to set <code>txn.maximum_number_of_gas_units</code> generously without having to worry about abuses.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="calculating-storage-fees">Calculating Storage Fees<a href="#calculating-storage-fees" class="hash-link" aria-label="Calculating Storage Fees „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Calculating Storage Fees „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<p>The storage fee for a transaction is calculated based on the following factors:</p>
<ol>
<li>The size of the transaction itself</li>
<li>The number of new storage slots used and bytes written</li>
<li>The events emitted
For details, see <a href="/concepts/base-gas">How Base Gas Works</a>.</li>
</ol>
<p>It should be noted that due to some backward compatibility reasons, the total storage fee of a transaction is currently presented to the client as part of the total <code>gas_used</code>. This means, this amount could vary based on the gas unit price even for the same transaction.</p>
<p>Here is an example. Suppose we have a transaction that costs <code>100</code> gas units in execution &amp; IO, and <code>5000</code> Octa in storage fees. The network will show that you have used</p>
<ul>
<li><code>100 + 5000 / 100 = 150</code> gas units if the gas unit price is <code>100</code>, or</li>
<li><code>100 + 5000 / 200 = 125</code> gas units if the unit price is <code>200</code>.</li>
</ul>
<p>We are aware of the confusion this might create, and plan to present these as separate items in the future. However, this will require some changes to the transaction output format and downstream clients, so please be patient while we work hard to make this happen.</p>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="calculating-storage-deletion-refund">Calculating Storage Deletion Refund<a href="#calculating-storage-deletion-refund" class="hash-link" aria-label="Calculating Storage Deletion Refund „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Calculating Storage Deletion Refund „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<p>If a transaction deletes state items, a refund is issued to the transaction payer for the released storage slots. Currently, a full refund is issued for the slot&#x27;s fee, excluding any fees for excess bytes beyond a set quota (e.g., 1KB). However, fees for event emissions are not refundable.</p>
<p>The refund amount is denominated in APT and is not converted to gas units or included in the total <code>gas_used</code>. Instead, this refund amount is specifically detailed in the <code>storage_fee_refund_octas</code> field of the <a href="#the-fee-statement"><code>FeeStatement</code></a>. As a result, the transaction&#x27;s net effect on the payer&#x27;s APT balance is determined by <code>gas_used * gas_unit_price - storage_refund</code>. If the result is positive, there is a deduction from the account balance; if negative, there is a deposit.</p>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Examples „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Examples „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="example-1-account-balance-vs-transaction-fee">Example 1: Account balance vs transaction fee<a href="#example-1-account-balance-vs-transaction-fee" class="hash-link" aria-label="Example 1: Account balance vs transaction fee „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Example 1: Account balance vs transaction fee „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h3>
<p><strong>The sender‚Äôs account must have sufficient funds to pay for the transaction fee.</strong></p>
<p>If, let&#x27;s say, you transfer all the money out of your account so that you have no remaining balance to pay for the transaction fee. In such case the Aptos blockchain would let you know that the transaction will fail, and your transfer wouldn&#x27;t succeed either.</p>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="example-2-transaction-amounts-vs-transaction-fee">Example 2: Transaction amounts vs transaction fee<a href="#example-2-transaction-amounts-vs-transaction-fee" class="hash-link" aria-label="Example 2: Transaction amounts vs transaction fee „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Example 2: Transaction amounts vs transaction fee „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h3>
<p><strong>Transaction fee is independent of transfer amounts in the transaction.</strong></p>
<p>In a transaction, for example, transaction A, you are transferring 1000 coins from one account to another account. In a second transaction B, with the same gas field values of transaction A, you now transfer 100,000 coins from one account to another one account. Assuming that both the transactions A and B are sent roughly at the same time, then the gas costs for transactions A and B would be near-identical.</p>
<h2 class="anchor anchorWithStickyNavbar_pM13" id="estimating-gas-consumption-via-simulation">Estimating gas consumption via simulation<a href="#estimating-gas-consumption-via-simulation" class="hash-link" aria-label="Estimating gas consumption via simulation „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Estimating gas consumption via simulation „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h2>
<p>The gas used for a transaction can be estimated by simulating the transaction on chain as described here or locally via the gas profiling feature of the Aptos CLI. The results of the simulated transaction represent the <strong>exact</strong> amount that is needed at the <strong>exact</strong> state of the blockchain at the time of the simulation. These gas units used may change based on the state of the chain. For this reason, any amount coming out of the simulation is only an estimate, and when setting the max gas amount, it should include an appropriate amount of headroom based upon your comfort-level and historical behaviors. Setting the max gas amount too low will result in the transaction aborting and the account being charged for whatever gas was consumed.</p>
<p>To simulate transactions on chain, used the <a href="https://api.devnet.aptoslabs.com/v1/spec#/operations/simulate_transaction" target="_blank" rel="noopener noreferrer"><code>SimulateTransaction</code></a> API. This API will run the exact transaction that you plan to run.</p>
<p>To simulate the transaction locally, use the gas profiler, which is integrated into the Aptos CLI.
This will generate a web-based report to help you understand the precise gas usage of your transaction.
See <a href="/move/move-on-aptos/gas-profiling">Gas Profiling</a> for more details.</p>
<div class="theme-admonition theme-admonition-tip admonition_xfYw alert alert--success"><div class="admonitionHeading_V4B4"><span class="admonitionIcon_EG4P"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>„Éí„É≥„Éà</div><div class="admonitionContent_CBOD"><p>Note that the <code>Signature</code> provided on the transaction must be all zeros. This is to prevent someone from using the valid signature.</p></div></div>
<p>To simulate the transaction, there are two flags:</p>
<ol>
<li><code>estimate_gas_unit_price</code>: This flag will estimate the gas unit price in the transaction using the same algorithm as the <a href="https://api.devnet.aptoslabs.com/v1/spec#/operations/estimate_gas_price" target="_blank" rel="noopener noreferrer"><code>estimate_gas_price</code></a> API.</li>
<li><code>estimate_max_gas_amount</code>: This flag will find the maximum possible gas you can use, and it will simulate the transaction to tell you the actual <code>gas_used</code>.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_pM13" id="simulation-steps">Simulation steps<a href="#simulation-steps" class="hash-link" aria-label="Simulation steps „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ" title="Simulation steps „Å∏„ÅÆÁõ¥Êé•„É™„É≥„ÇØ">‚Äã</a></h3>
<p>The simulation steps for finding the correct amount of gas for a transaction are as follows:</p>
<ol>
<li>Estimate the gas via simulation with both <code>estimate_gas_unit_price</code> and <code>estimate_max_gas_amount</code> set to <code>true</code>.</li>
<li>Use the <code>gas_unit_price</code> in the returned transaction as your new transaction‚Äôs <code>gas_unit_price</code>.</li>
<li>View the <code>gas_used * gas_unit_price</code> values in the returned transaction as the <strong>lower bound</strong> for the cost of the transaction.</li>
<li>To calculate the upper bound of the cost, take the <strong>minimum</strong> of the <code>max_gas_amount</code> in the returned transaction, and the <code>gas_used * safety factor</code>. In the CLI a value of <code>1.5</code> is used for <code>safety factor</code>. Use this value as <code>max_gas_amount</code> for the transaction you want to submit. Note that the <strong>upper bound</strong> for the cost of the transaction is <code>max_gas_amount * gas_unit_price</code>, i.e., this is the most the sender of the transaction is charged.</li>
<li>At this point you now have your <code>gas_unit_price</code> and <code>max_gas_amount</code> to submit your transaction as follows:<!-- -->
<ol>
<li><code>gas_unit_price</code> from the returned simulated transaction.</li>
<li><code>max_gas_amount</code> as the minimum of the <code>gas_used</code> * <code>a safety factor</code> or the <code>max_gas_amount</code> from the transaction.</li>
</ol>
</li>
<li>If you feel the need to prioritize or deprioritize your transaction, adjust the <code>gas_unit_price</code> of the transaction. Increase the value for higher priority, and decrease the value for lower priority.</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xfYw alert alert--success"><div class="admonitionHeading_V4B4"><span class="admonitionIcon_EG4P"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>„Éí„É≥„Éà</div><div class="admonitionContent_CBOD"><p>Prioritization is based upon buckets of <code>gas_unit_price</code>. The buckets are defined in <a href="https://github.com/aptos-labs/aptos-core/blob/30b385bf38d3dc8c4e8ee0ff045bc5d0d2f67a85/config/src/config/mempool_config.rs#L8" target="_blank" rel="noopener noreferrer"><code>mempool_config.rs</code></a>. The current buckets are <code>[0, 150, 300, 500, 1000, 3000, 5000, 10000, 100000, 1000000]</code>. Therefore, a <code>gas_unit_price</code> of 150 and 299 would be prioritized nearly the same.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xfYw alert alert--success"><div class="admonitionHeading_V4B4"><span class="admonitionIcon_EG4P"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>„Éí„É≥„Éà</div><div class="admonitionContent_CBOD"><p>Note that the <code>safety factor</code> only takes into consideration changes related to execution and IO. Unexpected creation of storage slots may not be sufficiently covered.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/aptos-labs/developer-docs/edit/main/apps/docusaurus/docs/concepts/gas-txn-fee.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_l3kn" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>„Åì„ÅÆ„Éö„Éº„Ç∏„ÇíÁ∑®ÈõÜ</a></div><div class="col lastUpdated_nZMy"><span class="theme-last-updated"><b><time datetime="2024-04-16T14:16:34.000Z">2024Âπ¥4Êúà16Êó•</time></b>„Å´<!-- -->ÊúÄ ÁµÇÊõ¥Êñ∞</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="„Éâ„Ç≠„É•„É°„É≥„Éà„Éö„Éº„Ç∏"><a class="pagination-nav__link pagination-nav__link--prev" href="/concepts/txns-states"><div class="pagination-nav__sublabel">Ââç„Å∏</div><div class="pagination-nav__label">Transactions and States</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/concepts/base-gas"><div class="pagination-nav__sublabel">Ê¨°„Å∏</div><div class="pagination-nav__label">Computing Transaction Gas</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_HHZg thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#unit-of-gas" class="table-of-contents__link toc-highlight">Unit of gas</a></li><li><a href="#the-fee-statement" class="table-of-contents__link toc-highlight">The Fee Statement</a></li><li><a href="#gas-price-and-prioritizing-transactions" class="table-of-contents__link toc-highlight">Gas price and prioritizing transactions</a></li><li><a href="#specifying-gas-fees-within-a-transaction" class="table-of-contents__link toc-highlight">Specifying gas fees within a transaction</a></li><li><a href="#gas-parameters-set-by-governance" class="table-of-contents__link toc-highlight">Gas parameters set by governance</a></li><li><a href="#calculating-storage-fees" class="table-of-contents__link toc-highlight">Calculating Storage Fees</a></li><li><a href="#calculating-storage-deletion-refund" class="table-of-contents__link toc-highlight">Calculating Storage Deletion Refund</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#example-1-account-balance-vs-transaction-fee" class="table-of-contents__link toc-highlight">Example 1: Account balance vs transaction fee</a></li><li><a href="#example-2-transaction-amounts-vs-transaction-fee" class="table-of-contents__link toc-highlight">Example 2: Transaction amounts vs transaction fee</a></li></ul></li><li><a href="#estimating-gas-consumption-via-simulation" class="table-of-contents__link toc-highlight">Estimating gas consumption via simulation</a><ul><li><a href="#simulation-steps" class="table-of-contents__link toc-highlight">Simulation steps</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                <div class="footer-left">
                  <a class="footer-logo" href="https://aptosfoundation.org" target="_blank" rel="noopener noreferrer" title="Aptos Foundation">
                    <svg width="100%" height="100%" version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112 112" overflow="visible" xml:space="preserve"><path fill="currentColor" d="M86.6 37.4h-9.9c-1.1 0-2.2-.5-3-1.3l-4-4.5c-1.2-1.3-3.1-1.4-4.5-.3l-.3.3-3.4 3.9c-1.1 1.3-2.8 2-4.5 2H2.9C1.4 41.9.4 46.6 0 51.3h51.2c.9 0 1.8-.4 2.4-1l4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1.1l4 4.5c.8.9 1.9 1.4 3 1.4H112c-.4-4.7-1.4-9.4-2.9-13.8H86.6zM53.8 65l-4-4.5c-1.2-1.3-3.1-1.4-4.5-.3l-.3.3-3.5 3.9c-1.1 1.3-2.7 2-4.4 2H.8c.9 4.8 2.5 9.5 4.6 14h25.5c.9 0 1.7-.4 2.4-1l4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1.1l4 4.5c.8.9 1.9 1.4 3 1.4h56.6c2.1-4.4 3.7-9.1 4.6-14H56.8c-1.2 0-2.3-.5-3-1.4zm19.6-43.6 4.8-5c.6-.6 1.4-1 2.3-1h.2c.9 0 1.8.4 2.4 1l4 4.5c.8.9 1.9 1.3 3 1.3h10.8c-18.8-24.8-54.1-29.7-79-11-4.1 3.1-7.8 6.8-11 11H71c1 .2 1.8-.2 2.4-.8zM34.7 94.2c-1.2 0-2.3-.5-3-1.3l-4-4.5c-1.2-1.3-3.2-1.4-4.5-.2l-.2.2-3.5 3.9c-1.1 1.3-2.7 2-4.4 2h-.2C36 116.9 71.7 118 94.4 96.7c.9-.8 1.7-1.7 2.6-2.6H34.7z"/></svg>
                  </a>
                  <div class="copyright">
                    <p class="copyright-text">¬© 2024 Aptos Foundation</p>
                    <div class="copyright-links">
                      <a href="https://aptosfoundation.org/privacy" target="_blank">Privacy</a>
                      <a href="https://aptosfoundation.org/terms" target="_blank">Terms</a></div>
                  </div>
                </div>
                </li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                  <p class="right">
                    <nav class="social-links">
                        <a class="social-link" href="https://github.com/aptos-labs/developer-docs" target="_blank" rel="noopener noreferrer" title="Github">
                         <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 0C4.47514 0 0 4.47514 0 10C0 14.4199 2.86679 18.1645 6.83855 19.4905C7.33579 19.5826 7.51995 19.2756 7.51995 19.0055C7.51995 18.7661 7.51381 18.14 7.50767 17.3051C4.72683 17.9067 4.13751 15.9668 4.13751 15.9668C3.68324 14.8128 3.0264 14.5058 3.0264 14.5058C2.11786 13.8858 3.09392 13.8981 3.09392 13.8981C4.09454 13.9718 4.62861 14.9294 4.62861 14.9294C5.51872 16.4579 6.96746 16.016 7.53837 15.7581C7.63045 15.1136 7.88827 14.6716 8.17066 14.4199C5.94843 14.1682 3.61571 13.3088 3.61571 9.47821C3.61571 8.38551 4.00246 7.4954 4.64702 6.79558C4.54266 6.54389 4.19889 5.52486 4.74524 4.14978C4.74524 4.14978 5.58625 3.87968 7.4954 5.17495C8.29343 4.95396 9.14672 4.84346 10 4.83732C10.8471 4.83732 11.7066 4.95396 12.5046 5.17495C14.4137 3.87968 15.2548 4.14978 15.2548 4.14978C15.8011 5.52486 15.4573 6.54389 15.353 6.79558C15.9914 7.4954 16.3781 8.38551 16.3781 9.47821C16.3781 13.3211 14.0393 14.1621 11.8109 14.4137C12.167 14.7207 12.4923 15.3346 12.4923 16.2676C12.4923 17.6059 12.48 18.6802 12.48 19.0117C12.48 19.2818 12.6581 19.5887 13.1676 19.4905C17.1393 18.1645 20 14.4199 20 10.0061C20 4.47514 15.5249 0 10 0Z" fill="currentColor"/></svg>
                        </a>
                        <a class="social-link" href="https://discord.gg/aptosnetwork" target="_blank" rel="noopener noreferrer" title="Discord">
                          <svg width="100%" height="100%" viewBox="0 0 71 55" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M60.105 4.898A58.55 58.55 0 0 0 45.653.415a.22.22 0 0 0-.233.11 40.784 40.784 0 0 0-1.8 3.697c-5.456-.817-10.886-.817-16.23 0-.485-1.164-1.201-2.587-1.828-3.697a.228.228 0 0 0-.233-.11 58.386 58.386 0 0 0-14.451 4.483.207.207 0 0 0-.095.082C1.578 18.73-.944 32.144.293 45.39a.244.244 0 0 0 .093.167c6.073 4.46 11.955 7.167 17.729 8.962a.23.23 0 0 0 .249-.082 42.08 42.08 0 0 0 3.627-5.9.225.225 0 0 0-.123-.312 38.772 38.772 0 0 1-5.539-2.64.228.228 0 0 1-.022-.378 31.17 31.17 0 0 0 1.1-.862.22.22 0 0 1 .23-.03c11.619 5.304 24.198 5.304 35.68 0a.219.219 0 0 1 .233.027c.356.293.728.586 1.103.865a.228.228 0 0 1-.02.378 36.384 36.384 0 0 1-5.54 2.637.227.227 0 0 0-.121.315 47.249 47.249 0 0 0 3.624 5.897.225.225 0 0 0 .249.084c5.801-1.794 11.684-4.502 17.757-8.961a.228.228 0 0 0 .092-.164c1.48-15.315-2.48-28.618-10.497-40.412a.18.18 0 0 0-.093-.084Zm-36.38 32.427c-3.497 0-6.38-3.211-6.38-7.156 0-3.944 2.827-7.156 6.38-7.156 3.583 0 6.438 3.24 6.382 7.156 0 3.945-2.827 7.156-6.381 7.156Zm23.593 0c-3.498 0-6.38-3.211-6.38-7.156 0-3.944 2.826-7.156 6.38-7.156 3.582 0 6.437 3.24 6.38 7.156 0 3.945-2.798 7.156-6.38 7.156Z" fill="currentColor"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h71v55H0z"/></clipPath></defs></svg>
                        </a>
                        <a class="social-link" href="https://twitter.com/Aptos" target="_blank" rel="noopener noreferrer" title="Twitter">
                          <svg width="100%" height="100%" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 2.013a9.395 9.395 0 0 1-2.593.676A4.348 4.348 0 0 0 21.392.314a9.341 9.341 0 0 1-2.866 1.042A4.62 4.62 0 0 0 15.232 0c-2.493 0-4.514 1.922-4.514 4.292 0 .336.04.664.117.978C7.083 5.09 3.758 3.382 1.532.786A4.115 4.115 0 0 0 .92 2.944c0 1.489.796 2.802 2.007 3.571A4.669 4.669 0 0 1 .884 5.98v.053c0 2.08 1.555 3.815 3.62 4.209a4.744 4.744 0 0 1-2.038.074c.574 1.705 2.241 2.945 4.216 2.98a9.358 9.358 0 0 1-5.605 1.837c-.365 0-.724-.02-1.077-.06A13.257 13.257 0 0 0 6.918 17c8.303 0 12.843-6.54 12.843-12.21 0-.187-.004-.372-.013-.556A8.929 8.929 0 0 0 22 2.013Z" fill="currentColor"/></svg>
                        </a>
                    </nav>
                  </p>
              </li></ul></div></div></div></footer></div>
</body>
</html>